{"version":3,"sources":["webpack:///bundle.min.js","webpack:///webpack/bootstrap b32a01dd3a950bb2bd24","webpack:///./src/main.js","webpack:///./src/grid/calendar_grid.js","webpack:///./src/base.js","webpack:///./src/slider/range_slider.js","webpack:///./src/slider/snap_slider.js","webpack:///./src/slider/simple_slider.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_calendar_grid","_range_slider","_snap_slider","_simple_slider","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_base","_base2","CalendarGridChart","_Chart","this","getPrototypeOf","apply","arguments","grid_chart","y_axis","d3","svg","axis","orient","outerTickSize","y_scale","scale","ordinal","append","attr","x_scale","domain","range","map","n","rangeRoundBands","width","grid_padding","x_axis","grid_unit_size","display_date_format","displayDate","time","format","toDate","parse_date_format","parseDate","datum","date_attr","monthFormat","toMonthString","data","css_class","toClass","rangeValue","range_attr","d","months","undefined","min_range","max_range","min","max","values","forEach","date","date_s","indexOf","push","Infinity","range_value","Math","min_range_zero","diff","sort","date_s1","date_s2","date1","parse","date2","getTime","colors","color_max","color_min","gridSize","floor","outer_width","legendElementWidth","colorlegend","legend","selectAll","enter","gradient","style","text","round","exit","remove","serializeData","drawLegend","y_axis_height","select","grid_units","applyData","transition","elements","series_class","bottom","middle","rangeBand","getDate","applyOpacity","get","assign","DEFAULTS","outer_height","margin","top","left","right","chart_class","domain_ticks","range_ticks","container","time_series","range_label","domain_attr","titleize","series","s","name","title","words","split","array","charAt","toUpperCase","toLowerCase","slice","join","replace","Chart","options","chart","chart_options","height","defineAxes","afterAxes","selector","fn","scope","selection","element","RangeSlider","range_slider","date_range","clamp","linear","tickSize","ticks","tick_amount","tickPadding","drawOne","slider","min_handle","handle_r","max_handle","brush","x","drawData","abs_min","abs_max","current_min","current_max","extent","on","handleBrush","eval","event","duration","type","changed_datum","other_datum","abs","delta","Date","opts","elem","parseInt","sourceEvent","invert","mouse","new_current_min","getDelta","new_current_max","onRangeUpdated","SnapSlider","snap_slider","ensureTickHelpers","tickValues","tick_values","tickFormat","tickLabel","g","keys","tick_labels","val","tick_value","handle","current_value","click_position","onSnap","exec_callback","findNearestTickValue","value_position","this_value","next_value","snap_debounce","brush_value","handle_position","source_event","brush_position","$handle_brush","clearTimeout","setTimeout","snap_value","snap_position","SimpleSlider","simple_slider","background_drag","onChange","callback_debounce"],"mappings":"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","file":"bundle.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _calendar_grid = __webpack_require__(1);\n\t\n\tvar _calendar_grid2 = _interopRequireDefault(_calendar_grid);\n\t\n\tvar _range_slider = __webpack_require__(3);\n\t\n\tvar _range_slider2 = _interopRequireDefault(_range_slider);\n\t\n\tvar _snap_slider = __webpack_require__(4);\n\t\n\tvar _snap_slider2 = _interopRequireDefault(_snap_slider);\n\t\n\tvar _simple_slider = __webpack_require__(5);\n\t\n\tvar _simple_slider2 = _interopRequireDefault(_simple_slider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(6);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// inspired by https://gist.github.com/mbostock/4b66c0d9be9a0d56484e\n\t\n\tvar CalendarGridChart = function (_Chart) {\n\t  _inherits(CalendarGridChart, _Chart);\n\t\n\t  function CalendarGridChart() {\n\t    _classCallCheck(this, CalendarGridChart);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(CalendarGridChart).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(CalendarGridChart, [{\n\t    key: 'defineAxes',\n\t    value: function defineAxes() {\n\t      var grid_chart = this;\n\t\n\t      // y scale is dependent on number of months.\n\t      grid_chart.y_axis = d3.svg.axis().orient(\"left\").outerTickSize(0);\n\t      grid_chart.y_scale = d3.scale.ordinal();\n\t      grid_chart.svg.append(\"g\").attr(\"class\", \"d3-chart-range d3-chart-axis\");\n\t\n\t      grid_chart.x_scale = d3.scale.ordinal().domain(d3.range(31).map(function (n) {\n\t        return n + 1;\n\t      })).rangeRoundBands([0, grid_chart.width], grid_chart.grid_padding, 0);\n\t\n\t      grid_chart.x_axis = d3.svg.axis().scale(grid_chart.x_scale).orient(\"top\").outerTickSize(0);\n\t\n\t      // append x axis\n\t      grid_chart.svg.append(\"g\").attr(\"class\", \"d3-chart-domain d3-chart-axis\");\n\t    }\n\t  }, {\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var grid_chart = this;\n\t      grid_chart.grid_unit_size = grid_chart.width / 31 - grid_chart.grid_padding * grid_chart.width / 30;\n\t\n\t      if (grid_chart.display_date_format) grid_chart.displayDate = d3.time.format(grid_chart.display_date_format);\n\t\n\t      if (!grid_chart.toDate && grid_chart.parse_date_format) {\n\t        grid_chart.parseDate = d3.time.format(grid_chart.parse_date_format);\n\t        grid_chart.toDate = function (datum) {\n\t          grid_chart.parseDate(datum[grid_chart.date_attr]);\n\t        };\n\t      } else if (!grid_chart.toDate) {\n\t        grid_chart.toDate = function (datum) {\n\t          return datum[grid_chart.date_attr];\n\t        };\n\t      }\n\t\n\t      grid_chart.monthFormat = d3.time.format(grid_chart.display_date_format);\n\t      grid_chart.toMonthString = function (datum) {\n\t        return grid_chart.monthFormat(grid_chart.toDate(datum));\n\t      };\n\t    }\n\t  }, {\n\t    key: 'serializeData',\n\t    value: function serializeData(data) {\n\t      var grid_chart = this;\n\t      data.css_class = data.css_class || grid_chart.toClass ? grid_chart.toClass(data) : \"\";\n\t\n\t      grid_chart.rangeValue = grid_chart.range_attr ? function (d) {\n\t        return d[grid_chart.range_attr];\n\t      } : grid_chart.rangeValue;\n\t\n\t      data.months = [];\n\t      if (data.min_range !== undefined && data.max_range !== undefined) {\n\t        data.range = {\n\t          min: data.min_range,\n\t          max: data.max_range\n\t        };\n\t        data.values.forEach(function (value) {\n\t          var date = grid_chart.toDate(value),\n\t              date_s = grid_chart.monthFormat(date);\n\t          if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n\t        });\n\t      } else {\n\t        var min_range = Infinity,\n\t            max_range = -Infinity;\n\t        data.values.forEach(function (value) {\n\t          var date = grid_chart.toDate(value),\n\t              date_s = grid_chart.monthFormat(date),\n\t              range_value = grid_chart.rangeValue(value);\n\t          min_range = Math.min(min_range, range_value);\n\t          max_range = Math.max(max_range, range_value);\n\t          if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n\t        });\n\t        if (grid_chart.min_range_zero) min_range = Math.min(min_range, 0);\n\t        data.range = {\n\t          min: min_range,\n\t          max: max_range\n\t        };\n\t      }\n\t      data.range.diff = data.range.max - data.range.min;\n\t\n\t      data.months = data.months.sort(function (date_s1, date_s2) {\n\t        var date1 = grid_chart.monthFormat.parse(date_s1),\n\t            date2 = grid_chart.monthFormat.parse(date_s2);\n\t        return date1.getTime() - date2.getTime();\n\t      });\n\t      return data;\n\t    }\n\t  }, {\n\t    key: 'drawLegend',\n\t    value: function drawLegend(data) {\n\t      var grid_chart = this;\n\t      var colors = [grid_chart.color_max, grid_chart.color_min];\n\t      grid_chart.gridSize = Math.floor(grid_chart.outer_width / 31);\n\t      grid_chart.legendElementWidth = grid_chart.gridSize * 3.5;\n\t\n\t      var colorlegend = grid_chart.svg.append(\"g\").attr(\"class\", \"color-legend\");\n\t      var legend = grid_chart.svg.append(\"g\").attr(\"class\", \"legend\").selectAll().data([data.range.min, data.range.max], function (d) {\n\t        return d;\n\t      });\n\t\n\t      legend.enter().append(\"text\").attr(\"class\", \"legend-description\");\n\t\n\t      var gradient = colorlegend.append(\"defs\").append(\"linearGradient\").attr(\"id\", \"gradient\").attr(\"x1\", \"0%\").attr(\"y1\", \"0%\").attr(\"spreadMethod\", \"pad\");\n\t\n\t      gradient.append(\"stop\").attr(\"offset\", \"0%\").attr(\"stop-color\", colors[1]).attr(\"stop-opacity\", 1);\n\t\n\t      gradient.append(\"stop\").attr(\"offset\", \"100%\").attr(\"stop-color\", colors[0]).attr(\"stop-opacity\", 1);\n\t\n\t      colorlegend.append(\"rect\").attr(\"x\", 0).attr(\"y\", grid_chart.gridSize * data.months.length - 40).attr(\"width\", 120).attr(\"height\", 30).style(\"fill\", \"url(#gradient)\");\n\t\n\t      legend.text(function (d) {\n\t        return Math.round(d);\n\t      }).attr(\"x\", function (d, i) {\n\t        return grid_chart.legendElementWidth * i;\n\t      }).attr(\"y\", grid_chart.gridSize * data.months.length + 5);\n\t\n\t      legend.exit().remove();\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var grid_chart = this;\n\t      data = grid_chart.serializeData(data);\n\t      if (grid_chart.legend) grid_chart.drawLegend(data);\n\t\n\t      // calibrate axes\n\t      var y_axis_height = grid_chart.grid_unit_size * (1 + grid_chart.grid_padding) * data.months.length;\n\t      grid_chart.y_scale.rangeRoundBands([0, y_axis_height], grid_chart.grid_padding, 0);\n\t      grid_chart.y_scale.domain(data.months);\n\t      grid_chart.y_axis.scale(grid_chart.y_scale);\n\t\n\t      grid_chart.svg.select(\".d3-chart-range\").call(grid_chart.y_axis);\n\t\n\t      grid_chart.svg.select(\".d3-chart-domain\").call(grid_chart.x_axis);\n\t\n\t      var grid_units = grid_chart.svg.selectAll(\".d3-chart-grid-unit\").data(data.values);\n\t      grid_chart.applyData(data, grid_units.enter().append(\"rect\"));\n\t      grid_chart.applyData(data, grid_units.transition());\n\t      grid_units.exit().remove();\n\t    }\n\t\n\t    // helper method for drawData.\n\t\n\t  }, {\n\t    key: 'applyData',\n\t    value: function applyData(data, elements) {\n\t      var grid_chart = this,\n\t          series_class = \"d3-chart-grid-unit \" + data.css_class;\n\t      elements.attr(\"class\", function (d) {\n\t        return series_class;\n\t      }).attr(\"y\", function (d) {\n\t        var bottom = grid_chart.y_scale(grid_chart.toMonthString(d)),\n\t            middle = grid_chart.y_scale.rangeBand() / 2 - grid_chart.grid_unit_size / 2;\n\t        return bottom + middle;\n\t      }).attr(\"height\", grid_chart.grid_unit_size).attr(\"x\", function (d) {\n\t        return grid_chart.x_scale(grid_chart.toDate(d).getDate());\n\t      }).attr(\"width\", function (d) {\n\t        return grid_chart.grid_unit_size;\n\t      }).attr('fill', grid_chart.color_max).attr(\"opacity\", function (d) {\n\t\n\t        return grid_chart.applyOpacity(grid_chart.rangeValue(d), data.range);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'applyOpacity',\n\t    value: function applyOpacity(value, range) {\n\t      return Math.max(0, Math.min(1, 1 - (range.max - (value - range.min)) / range.diff));\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      var chart = this;\n\t      return Object.assign(Object.assign({}, _base2.default.DEFAULTS), {\n\t        outer_width: 800,\n\t        outer_height: 360,\n\t        margin: {\n\t          top: 30,\n\t          left: 150,\n\t          bottom: 30,\n\t          right: 0\n\t        },\n\t        grid_padding: 0.05,\n\t        display_date_format: '%B %Y',\n\t        date_attr: 'date',\n\t        range_attr: 'value',\n\t        min_range_zero: false,\n\t        color_max: '#000',\n\t        color_min: '#fff',\n\t        legend: true,\n\t        chart_class: 'd3-calendar-grid'\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return CalendarGridChart;\n\t}(_base2.default);\n\t\n\texports.default = CalendarGridChart;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULTS = {\n\t  outer_width: 500,\n\t  outer_height: 300,\n\t  margin: { top: 0, left: 70, bottom: 50, right: 20 },\n\t  domain_ticks: 10,\n\t  range_ticks: 8,\n\t  container: \"container\",\n\t  time_series: false,\n\t  range_label: undefined,\n\t  domain_attr: undefined,\n\t  range_attr: undefined,\n\t  titleize: function titleize(series, datum) {\n\t    var s = datum ? datum.name : series.title;\n\t    if (!s) return '';\n\t    var words = s.split(' '),\n\t        array = [];\n\t    for (var i = 0; i < words.length; ++i) {\n\t      array.push(words[i].charAt(0).toUpperCase() + words[i].toLowerCase().slice(1));\n\t    }\n\t    return array.join(' ');\n\t  },\n\t  toClass: function toClass(series) {\n\t    return series.css_class ? series.css_class.toLowerCase().replace(/\\s+/g, '-') : \"\";\n\t  }\n\t};\n\t\n\tvar Chart = function () {\n\t  function Chart(options) {\n\t    _classCallCheck(this, Chart);\n\t\n\t    var chart = this;\n\t    Object.assign(chart, chart.chart_options, options);\n\t\n\t    chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n\t    chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\t\n\t    chart.svg = d3.select(chart.container).append(\"svg\").attr(\"width\", chart.outer_width).attr(\"height\", chart.outer_height).attr('class', chart.chart_class || '').append(\"g\").attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\").attr('class', 'd3-object-container');\n\t\n\t    chart.defineAxes();\n\t    if (chart.afterAxes) chart.afterAxes();\n\t  }\n\t\n\t  _createClass(Chart, [{\n\t    key: 'drawOne',\n\t    value: function drawOne(selector, append, fn, scope) {\n\t      var chart = this,\n\t          selection = undefined;\n\t      scope = scope || chart.svg;\n\t      selection = scope.selectAll(selector).data([0]);\n\t      selection.exit().remove();\n\t      [selection.enter().append(append), selection].forEach(function (element) {\n\t        fn(element);\n\t      });\n\t      return selection;\n\t    }\n\t  }]);\n\t\n\t  return Chart;\n\t}();\n\t\n\tChart.DEFAULTS = DEFAULTS;\n\t\n\texports.default = Chart;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar RangeSlider = function (_Chart) {\n\t  _inherits(RangeSlider, _Chart);\n\t\n\t  function RangeSlider() {\n\t    _classCallCheck(this, RangeSlider);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(RangeSlider).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(RangeSlider, [{\n\t    key: 'defineAxes',\n\t    value: function defineAxes() {\n\t      var range_slider = this;\n\t\n\t      if (range_slider.date_range) {\n\t        range_slider.x_scale = d3.time.scale();\n\t        range_slider.x_scale.range([0, range_slider.width]).clamp(true);\n\t      } else {\n\t        range_slider.x_scale = d3.scale.linear();\n\t        range_slider.x_scale.range([0, range_slider.width]).clamp(true);\n\t      }\n\t\n\t      range_slider.x_axis = range_slider.x_axis || d3.svg.axis();\n\t      range_slider.x_axis.scale(range_slider.x_scale).orient(\"bottom\").tickSize(1).ticks(range_slider.tick_amount).outerTickSize(1).tickPadding(12);\n\t\n\t      range_slider.drawOne('.d3-chart-domain.d3-slider-axis', 'g', function (axis) {\n\t        axis.attr(\"class\", \"d3-chart-domain d3-slider-axis\");\n\t        axis.attr(\"transform\", \"translate(0,\" + range_slider.height / 2 + \")\");\n\t      });\n\t    }\n\t  }, {\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var range_slider = this;\n\t\n\t      range_slider.slider = range_slider.drawOne('.d3-chart-slider', 'g', function (slider) {\n\t        slider.attr(\"class\", \"d3-chart-slider\");\n\t      });\n\t\n\t      range_slider.min_handle = range_slider.drawOne('.d3-chart-slider .d3-chart-min-handle', 'circle', function (min_handle) {\n\t        min_handle.attr(\"class\", \"d3-chart-min-handle\").attr(\"transform\", \"translate(0,\" + range_slider.height / 2 + \")\").attr(\"r\", range_slider.handle_r);\n\t      }, range_slider.slider);\n\t\n\t      range_slider.max_handle = range_slider.drawOne('.d3-chart-slider .d3-chart-max-handle', 'circle', function (max_handle) {\n\t        max_handle.attr(\"class\", \"d3-chart-max-handle\").attr(\"transform\", \"translate(0,\" + range_slider.height / 2 + \")\").attr(\"r\", range_slider.handle_r);\n\t      }, range_slider.slider);\n\t\n\t      range_slider.brush = d3.svg.brush();\n\t      range_slider.brush.x(range_slider.x_scale);\n\t\n\t      range_slider.slider.call(range_slider.brush);\n\t\n\t      range_slider.slider.call(range_slider.brush).selectAll(\".extent,.resize\").remove();\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var range_slider = this;\n\t      range_slider.x_scale.domain([data.abs_min, data.abs_max]);\n\t\n\t      range_slider.svg.select(\".d3-chart-domain\").call(range_slider.x_axis);\n\t\n\t      range_slider.min_handle.attr('cx', range_slider.x_scale(data.current_min));\n\t      range_slider.max_handle.attr('cx', range_slider.x_scale(data.current_max));\n\t\n\t      range_slider.brush.extent([data.current_min, data.current_min]).on(\"brush\", function () {\n\t        RangeSlider.handleBrush(range_slider, eval('this'));\n\t      });\n\t\n\t      range_slider.slider.call(range_slider.brush.event).transition().duration(750).call(range_slider.brush.extent([data.current_min, data.current_min])).call(range_slider.brush.event);\n\t      range_slider.data = data;\n\t    }\n\t  }, {\n\t    key: 'getDelta',\n\t    value: function getDelta(type, changed_datum, other_datum) {\n\t      var range_slider = this;\n\t\n\t      if (type === 'max') {\n\t        if (range_slider.date_range) {\n\t          if (Math.abs(changed_datum.getTime() - other_datum.getTime()) > range_slider.delta.max) {\n\t            if (changed_datum > other_datum) {\n\t              return new Date(changed_datum.getTime() - range_slider.delta.max);\n\t            } else {\n\t              return new Date(changed_datum.getTime() + range_slider.delta.max);\n\t            }\n\t          }\n\t        } else {\n\t          if (Math.abs(changed_datum - other_datum) > range_slider.delta.max) {\n\t            if (changed_datum > other_datum) {\n\t              return changed_datum - range_slider.delta.max;\n\t            } else {\n\t              return changed_datum + range_slider.delta.max;\n\t            }\n\t          }\n\t        }\n\t        return false;\n\t      } else if (type === 'min') {\n\t        if (range_slider.date_range) {\n\t          if (Math.abs(changed_datum.getTime() - other_datum.getTime()) <= range_slider.delta.min) {\n\t            if (changed_datum < other_datum) {\n\t              return new Date(changed_datum.getTime() + range_slider.delta.min);\n\t            } else {\n\t              return new Date(changed_datum.getTime() - range_slider.delta.min);\n\t            }\n\t          }\n\t        } else {\n\t          if (Math.abs(changed_datum - other_datum) <= range_slider.delta.min) {\n\t            if (changed_datum < other_datum) {\n\t              return changed_datum + range_slider.delta.min;\n\t            } else {\n\t              return changed_datum - range_slider.delta.min;\n\t            }\n\t          }\n\t        }\n\t        return false;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'redraw',\n\t    value: function redraw(opts) {\n\t      var chart = this;\n\t      Object.assign(chart, opts);\n\t      chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n\t      chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\t\n\t      d3.select(chart.container + ' svg').attr(\"width\", chart.outer_width).attr(\"height\", chart.outer_height).select(\".d3-object-container\").attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n\t      chart.defineAxes();\n\t      if (chart.afterAxes) chart.afterAxes();\n\t      chart.drawData(chart.data);\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      return Object.assign(Object.assign({}, _base2.default.DEFAULTS), {\n\t        outer_width: 600,\n\t        outer_height: 100,\n\t        margin: {\n\t          top: 20,\n\t          left: 30,\n\t          bottom: 20,\n\t          right: 30\n\t        },\n\t        tick_amount: 6,\n\t        chart_class: 'd3-range-slider',\n\t        handle_r: 9\n\t      });\n\t    }\n\t  }], [{\n\t    key: 'handleBrush',\n\t    value: function handleBrush(range_slider, elem) {\n\t      var datum = range_slider.brush.extent()[0],\n\t          current_min = parseInt(range_slider.min_handle.attr('cx')),\n\t          current_max = parseInt(range_slider.max_handle.attr('cx'));\n\t\n\t      if (!current_min && !current_max) return false;\n\t      if (d3.event.sourceEvent) {\n\t        // not a programmatic event\n\t        datum = range_slider.x_scale.invert(d3.mouse(elem)[0]);\n\t        range_slider.brush.extent([datum, datum]);\n\t      }\n\t\n\t      var value = range_slider.x_scale(datum);\n\t\n\t      if (value < current_max && value > current_min) {\n\t        // move min / max handle towards the other handle\n\t        if (Math.abs(value - current_min) < Math.abs(value - current_max)) {\n\t          // move min towards max\n\t          range_slider.min_handle.attr('cx', value);\n\t          current_min = value;\n\t          if (d3.event.sourceEvent && range_slider.delta.min) {\n\t            var new_current_min = range_slider.getDelta('min', datum, range_slider.x_scale.invert(current_max));\n\t            if (new_current_min) range_slider.max_handle.attr('cx', range_slider.x_scale(new_current_min));\n\t          }\n\t        } else {\n\t          // move max towards min\n\t          range_slider.max_handle.attr('cx', value);\n\t          current_max = value;\n\t          if (d3.event.sourceEvent && range_slider.delta.min) {\n\t            var new_current_min = range_slider.getDelta('min', datum, range_slider.x_scale.invert(current_min));\n\t            if (new_current_min) range_slider.min_handle.attr('cx', range_slider.x_scale(new_current_min));\n\t          }\n\t        }\n\t      } else if (value >= current_max) {\n\t        // move max handle\n\t        range_slider.max_handle.attr('cx', value);\n\t        current_max = value;\n\t        if (d3.event.sourceEvent && range_slider.delta.max) {\n\t          var new_current_min = range_slider.getDelta('max', datum, range_slider.x_scale.invert(current_min));\n\t          if (new_current_min) range_slider.min_handle.attr('cx', range_slider.x_scale(new_current_min));\n\t        }\n\t      } else if (value <= current_min) {\n\t        range_slider.min_handle.attr('cx', value);\n\t        current_min = value;\n\t        if (d3.event.sourceEvent && range_slider.delta.max) {\n\t          var new_current_max = range_slider.getDelta('max', datum, range_slider.x_scale.invert(current_max));\n\t          if (new_current_max) range_slider.max_handle.attr('cx', range_slider.x_scale(new_current_max));\n\t        }\n\t      }\n\t\n\t      if (d3.event.sourceEvent && range_slider.onRangeUpdated) {\n\t        range_slider.onRangeUpdated(range_slider.x_scale.invert(current_min), range_slider.x_scale.invert(current_max));\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return RangeSlider;\n\t}(_base2.default);\n\t\n\texports.default = RangeSlider;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SnapSlider = function (_Chart) {\n\t  _inherits(SnapSlider, _Chart);\n\t\n\t  function SnapSlider() {\n\t    _classCallCheck(this, SnapSlider);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(SnapSlider).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(SnapSlider, [{\n\t    key: 'defineAxes',\n\t    value: function defineAxes() {\n\t      var snap_slider = this;\n\t\n\t      snap_slider.ensureTickHelpers();\n\t\n\t      if (snap_slider.date_range) {\n\t        snap_slider.x_scale = d3.time.scale().range([0, snap_slider.width]).clamp(true);\n\t      } else {\n\t        snap_slider.x_scale = d3.scale.linear().range([0, snap_slider.width]).clamp(true);\n\t      }\n\t\n\t      snap_slider.x_axis = d3.svg.axis().scale(snap_slider.x_scale).orient(\"bottom\").tickSize(1).tickValues(snap_slider.tick_values).tickFormat(function (d) {\n\t        return snap_slider.tickLabel(d);\n\t      }).outerTickSize(1).tickPadding(12);\n\t\n\t      snap_slider.drawOne('.d3-chart-domain.d3-slider-axis', 'g', function (g) {\n\t        g.attr(\"class\", \"d3-chart-domain d3-slider-axis\").attr(\"transform\", \"translate(0,\" + snap_slider.height / 2 + \")\");\n\t      });\n\t    }\n\t  }, {\n\t    key: 'ensureTickHelpers',\n\t    value: function ensureTickHelpers() {\n\t      var snap_slider = this;\n\t      if (snap_slider.tick_values === undefined) {\n\t        snap_slider.tick_values = Object.keys(snap_slider.tick_labels).map(function (val) {\n\t          return parseInt(val);\n\t        });\n\t      }\n\t      if (snap_slider.tickLabel === undefined && snap_slider.tick_labels === undefined) {\n\t        snap_slider.tickLabel = function (tick_value) {\n\t          return tick_value;\n\t        };\n\t      } else if (snap_slider.tickLabel === undefined) {\n\t        snap_slider.tickLabel = function (tick_value) {\n\t          return snap_slider.tick_labels[tick_value];\n\t        };\n\t      }\n\t    }\n\t  }, {\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var snap_slider = this;\n\t\n\t      snap_slider.slider = snap_slider.drawOne('.d3-chart-slider', 'g', function (g) {\n\t        g.attr(\"class\", \"d3-chart-slider\");\n\t      });\n\t\n\t      snap_slider.handle = snap_slider.drawOne('.d3-chart-handle', 'circle', function (handle) {\n\t        handle.attr(\"class\", \"d3-chart-handle\").attr(\"transform\", \"translate(0,\" + snap_slider.height / 2 + \")\").attr(\"r\", snap_slider.handle_r);\n\t      }, snap_slider.slider);\n\t\n\t      snap_slider.brush = d3.svg.brush().x(snap_slider.x_scale);\n\t\n\t      snap_slider.slider.call(snap_slider.brush);\n\t\n\t      snap_slider.slider.call(snap_slider.brush).selectAll(\".extent,.resize\").remove();\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var snap_slider = this;\n\t      snap_slider.x_scale.domain([data.abs_min, data.abs_max]);\n\t\n\t      snap_slider.svg.select(\".d3-chart-domain\").call(snap_slider.x_axis);\n\t\n\t      snap_slider.handle.attr('cx', snap_slider.x_scale(data.current_value));\n\t\n\t      snap_slider.brush.extent([data.current_value, data.current_value]).on(\"brush\", function () {\n\t        SnapSlider.handleBrush(snap_slider, eval('this'));\n\t      });\n\t\n\t      snap_slider.slider.call(snap_slider.brush.event).transition().duration(750).call(snap_slider.brush.extent([data.current_value, data.current_value])).call(snap_slider.brush.event);\n\t\n\t      d3.select(snap_slider.container).selectAll('.tick').on('click', function (d) {\n\t        var click_position = snap_slider.x_scale(d);\n\t        snap_slider.handle.attr('cx', click_position);\n\t        if (snap_slider.onSnap) {\n\t          snap_slider.onSnap(d);\n\t        }\n\t      });\n\t\n\t      snap_slider.current_value = data.current_value;\n\t      snap_slider.data = data;\n\t    }\n\t  }, {\n\t    key: 'setValue',\n\t    value: function setValue(value, opts) {\n\t      opts = Object.assign({\n\t        exec_callback: true\n\t      }, opts || {});\n\t\n\t      var snap_slider = this;\n\t      value = snap_slider.findNearestTickValue(value);\n\t      snap_slider.data.current_value = value;\n\t\n\t      snap_slider.current_value = value;\n\t      var value_position = snap_slider.x_scale(value);\n\t      snap_slider.handle.attr('cx', value_position);\n\t\n\t      if (snap_slider.onSnap && opts.exec_callback) {\n\t        snap_slider.onSnap(value);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'findNearestTickValue',\n\t    value: function findNearestTickValue(value) {\n\t      var snap_slider = this,\n\t          snap_value = undefined;\n\t      // SnapSlider#ticks must be sorted ASC.\n\t\n\t      for (var i = 0; i < snap_slider.tick_values.length; i++) {\n\t        var this_value = snap_slider.tick_values[i],\n\t            next_value = snap_slider.tick_values[i + 1];\n\t        if (next_value === undefined) {\n\t          return this_value;\n\t        } else if (value < next_value) {\n\t          var snap_position = undefined;\n\t          if (Math.abs(value - this_value) < Math.abs(value - next_value)) {\n\t            return this_value;\n\t          } else {\n\t            return next_value;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'redraw',\n\t    value: function redraw(opts) {\n\t      var chart = this;\n\t      Object.assign(chart, opts);\n\t      chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n\t      chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\t\n\t      d3.select(chart.container + ' svg').attr(\"width\", chart.outer_width).attr(\"height\", chart.outer_height).select(\".d3-object-container\").attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n\t      chart.defineAxes();\n\t      if (chart.afterAxes) chart.afterAxes();\n\t      chart.drawData(chart.data);\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      return Object.assign(Object.assign({}, _base2.default.DEFAULTS), {\n\t        outer_width: 600,\n\t        outer_height: 100,\n\t        margin: {\n\t          top: 20,\n\t          left: 30,\n\t          bottom: 20,\n\t          right: 30\n\t        },\n\t        tick_amount: 6,\n\t        chart_class: 'd3-snap-slider',\n\t        snap_debounce: 150,\n\t        handle_r: 9\n\t      });\n\t    }\n\t  }], [{\n\t    key: 'handleBrush',\n\t    value: function handleBrush(snap_slider, elem) {\n\t      var brush_value = snap_slider.brush.extent()[0],\n\t          handle_position = parseInt(snap_slider.handle.attr('cx'));\n\t\n\t      var source_event = d3.event.sourceEvent;\n\t      if (handle_position === null || !source_event) return false;\n\t\n\t      if (source_event) {\n\t        // UI triggered event\n\t        brush_value = snap_slider.x_scale.invert(d3.mouse(elem)[0]);\n\t        snap_slider.brush.extent([brush_value, brush_value]);\n\t      }\n\t\n\t      var brush_position = snap_slider.x_scale(brush_value);\n\t\n\t      snap_slider.handle.attr('cx', brush_position);\n\t\n\t      // don't continually snap - debounce every 500ms.\n\t      if (snap_slider.$handle_brush) clearTimeout(snap_slider.$handle_brush);\n\t\n\t      snap_slider.$handle_brush = setTimeout(function () {\n\t        // set handle position to closes tick mark.\n\t        var snap_value = snap_slider.findNearestTickValue(brush_value),\n\t            snap_position = snap_slider.x_scale(snap_value);\n\t        snap_slider.handle.attr('cx', snap_position);\n\t        snap_slider.current_value = snap_value;\n\t\n\t        // execute callback after handle has been snapped.\n\t        if (source_event && snap_slider.onSnap) {\n\t          snap_slider.onSnap(snap_value);\n\t        }\n\t      }, snap_slider.snap_debounce);\n\t    }\n\t  }]);\n\t\n\t  return SnapSlider;\n\t}(_base2.default);\n\t\n\texports.default = SnapSlider;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(2);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SimpleSlider = function (_Chart) {\n\t  _inherits(SimpleSlider, _Chart);\n\t\n\t  function SimpleSlider() {\n\t    _classCallCheck(this, SimpleSlider);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(SimpleSlider).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(SimpleSlider, [{\n\t    key: 'defineAxes',\n\t    value: function defineAxes() {\n\t      var simple_slider = this;\n\t\n\t      simple_slider.ensureTickHelpers();\n\t\n\t      if (simple_slider.date_range) {\n\t        simple_slider.x_scale = d3.time.scale().range([0, simple_slider.width]).clamp(true);\n\t      } else {\n\t        simple_slider.x_scale = d3.scale.linear().range([0, simple_slider.width]).clamp(true);\n\t      }\n\t\n\t      simple_slider.x_axis = d3.svg.axis().scale(simple_slider.x_scale).orient(\"bottom\").tickSize(1).tickValues(simple_slider.tick_values).tickFormat(function (d) {\n\t        return simple_slider.tickLabel(d);\n\t      }).outerTickSize(1).tickPadding(12);\n\t\n\t      simple_slider.drawOne('.d3-chart-domain.d3-slider-axis', 'g', function (axis) {\n\t        axis.attr(\"class\", \"d3-chart-domain d3-slider-axis\").attr(\"transform\", \"translate(0,\" + simple_slider.height / 2 + \")\");\n\t      });\n\t    }\n\t  }, {\n\t    key: 'ensureTickHelpers',\n\t    value: function ensureTickHelpers() {\n\t      var simple_slider = this;\n\t      if (simple_slider.tick_values === undefined) {\n\t        simple_slider.tick_values = Object.keys(simple_slider.tick_labels).map(function (val) {\n\t          return parseInt(val);\n\t        });\n\t      }\n\t      if (simple_slider.tickLabel === undefined && simple_slider.tick_labels === undefined) {\n\t        simple_slider.tickLabel = function (tick_value) {\n\t          return tick_value;\n\t        };\n\t      } else if (simple_slider.tickLabel === undefined) {\n\t        simple_slider.tickLabel = function (tick_value) {\n\t          return simple_slider.tick_labels[tick_value];\n\t        };\n\t      }\n\t    }\n\t  }, {\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var simple_slider = this;\n\t\n\t      simple_slider.slider = simple_slider.drawOne('.d3-chart-slider', 'g', function (slider) {\n\t        slider.attr(\"class\", \"d3-chart-slider\");\n\t      });\n\t\n\t      simple_slider.handle = simple_slider.drawOne('.d3-chart-handle', 'circle', function (handle) {\n\t        handle.attr(\"class\", \"d3-chart-handle\").attr(\"transform\", \"translate(0,\" + simple_slider.height / 2 + \")\").attr(\"r\", simple_slider.handle_r);\n\t      }, simple_slider.slider);\n\t\n\t      simple_slider.brush = d3.svg.brush().x(simple_slider.x_scale);\n\t\n\t      simple_slider.slider.call(simple_slider.brush);\n\t\n\t      simple_slider.slider.call(simple_slider.brush).selectAll(\".extent,.resize\").remove();\n\t\n\t      if (simple_slider.background_drag) {\n\t        simple_slider.svg.select(\".background\").attr(\"height\", simple_slider.outer_height);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var simple_slider = this;\n\t      simple_slider.x_scale.domain([data.abs_min, data.abs_max]);\n\t\n\t      simple_slider.svg.select(\".d3-chart-domain\").call(simple_slider.x_axis);\n\t\n\t      simple_slider.handle.attr('cx', simple_slider.x_scale(data.current_value));\n\t\n\t      simple_slider.brush.extent([data.current_value, data.current_value]).on(\"brush\", function () {\n\t        // weird event context hack.\n\t        SimpleSlider.handleBrush(simple_slider, eval('this'));\n\t      });\n\t\n\t      simple_slider.slider.call(simple_slider.brush.event).transition().duration(750).call(simple_slider.brush.extent([data.current_value, data.current_value])).call(simple_slider.brush.event);\n\t\n\t      d3.select(simple_slider.container).selectAll('.tick').on('click', function (d) {\n\t        var click_position = simple_slider.x_scale(d);\n\t        simple_slider.handle.attr('cx', click_position);\n\t        if (simple_slider.onChange) {\n\t          simple_slider.onChange(d);\n\t        }\n\t      });\n\t\n\t      simple_slider.data = data;\n\t      simple_slider.current_value = data.current_value;\n\t    }\n\t  }, {\n\t    key: 'setValue',\n\t    value: function setValue(value, opts) {\n\t      opts = Object.assign({\n\t        exec_callback: true\n\t      }, opts || {});\n\t      var simple_slider = this;\n\t      simple_slider.data.current_value = value;\n\t\n\t      simple_slider.current_value = value;\n\t      var value_position = simple_slider.x_scale(value);\n\t      simple_slider.handle.attr('cx', value_position);\n\t\n\t      if (simple_slider.onChange && opts.exec_callback) {\n\t        simple_slider.onChange(value);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'redraw',\n\t    value: function redraw(opts) {\n\t      var chart = this;\n\t      Object.assign(chart, opts);\n\t      chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n\t      chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\t\n\t      d3.select(chart.container + ' svg').attr(\"width\", chart.outer_width).attr(\"height\", chart.outer_height).select(\".d3-object-container\").attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n\t\n\t      if (chart.background_drag) {\n\t        d3.select(chart.container + ' svg').select(\".background\").attr(\"height\", chart.outer_height);\n\t      }\n\t\n\t      chart.defineAxes();\n\t      if (chart.afterAxes) chart.afterAxes();\n\t      chart.drawData(chart.data);\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      return Object.assign(Object.assign({}, _base2.default.DEFAULTS), {\n\t        outer_width: 600,\n\t        outer_height: 100,\n\t        margin: {\n\t          top: 20,\n\t          left: 30,\n\t          bottom: 20,\n\t          right: 30\n\t        },\n\t        tick_amount: 6,\n\t        callback_debounce: 200,\n\t        chart_class: 'd3-simple-slider',\n\t        handle_r: 9\n\t      });\n\t    }\n\t  }], [{\n\t    key: 'handleBrush',\n\t    value: function handleBrush(simple_slider, elem) {\n\t      var brush_value = simple_slider.brush.extent()[0],\n\t          handle_position = parseInt(simple_slider.handle.attr('cx'));\n\t\n\t      var source_event = d3.event.sourceEvent;\n\t      if (handle_position === null || !source_event) return false;\n\t\n\t      if (source_event) {\n\t        // UI triggered event\n\t        brush_value = simple_slider.x_scale.invert(d3.mouse(elem)[0]);\n\t        simple_slider.brush.extent([brush_value, brush_value]);\n\t      }\n\t\n\t      var brush_position = simple_slider.x_scale(brush_value);\n\t\n\t      simple_slider.handle.attr('cx', brush_position);\n\t\n\t      if (!simple_slider.onChange || !source_event) return false;\n\t\n\t      // don't continually snap - debounce according to callback_debounce.\n\t      if (simple_slider.$handle_brush) clearTimeout(simple_slider.$handle_brush);\n\t\n\t      simple_slider.$handle_brush = setTimeout(function () {\n\t        simple_slider.onChange(brush_value);\n\t      }, simple_slider.callback_debounce);\n\t    }\n\t  }]);\n\t\n\t  return SimpleSlider;\n\t}(_base2.default);\n\t\n\texports.default = SimpleSlider;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b32a01dd3a950bb2bd24\n **/","require('./style.scss');\n\nimport CalendarGridChart from './grid/calendar_grid';\nimport RangeSlider from './slider/range_slider';\nimport SnapSlider from './slider/snap_slider';\nimport SimpleSlider from './slider/simple_slider';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import Chart from './../base';\n\n// inspired by https://gist.github.com/mbostock/4b66c0d9be9a0d56484e\nclass CalendarGridChart extends Chart {\n\n  get chart_options() {\n    var chart = this;\n    return Object.assign(Object.assign({}, Chart.DEFAULTS), {\n      outer_width: 800,\n      outer_height: 360,\n      margin: {\n        top: 30,\n        left: 150,\n        bottom: 30,\n        right: 0\n      },\n      grid_padding: 0.05,\n      display_date_format: '%B %Y',\n      date_attr: 'date',\n      range_attr: 'value',\n      min_range_zero: false,\n      color_max: '#000',\n      color_min: '#fff',\n      legend: true,\n      chart_class: 'd3-calendar-grid'\n    })\n  }\n\n  defineAxes() {\n    var grid_chart = this;\n\n    // y scale is dependent on number of months.\n    grid_chart.y_axis = d3.svg.axis().orient(\"left\").outerTickSize(0);\n    grid_chart.y_scale = d3.scale.ordinal()\n    grid_chart.svg.append(\"g\")\n      .attr(\"class\", \"d3-chart-range d3-chart-axis\");\n\n    grid_chart.x_scale = d3.scale.ordinal()\n      .domain(d3.range(31).map((n) => {\n        return n + 1;\n      }))\n      .rangeRoundBands([0, grid_chart.width], grid_chart.grid_padding, 0);\n\n    grid_chart.x_axis = d3.svg.axis()\n      .scale(grid_chart.x_scale)\n      .orient(\"top\")\n      .outerTickSize(0);\n\n    // append x axis\n    grid_chart.svg.append(\"g\").attr(\"class\", \"d3-chart-domain d3-chart-axis\");\n  }\n\n  afterAxes() {\n    var grid_chart = this;\n    grid_chart.grid_unit_size = grid_chart.width / 31 - grid_chart.grid_padding * grid_chart.width / 30;\n\n    if (grid_chart.display_date_format) grid_chart.displayDate = d3.time.format(grid_chart.display_date_format);\n\n    if (!grid_chart.toDate && grid_chart.parse_date_format) {\n      grid_chart.parseDate = d3.time.format(grid_chart.parse_date_format);\n      grid_chart.toDate = (datum) => {\n        grid_chart.parseDate(datum[grid_chart.date_attr]);\n      }\n    } else if (!grid_chart.toDate) {\n      grid_chart.toDate = (datum) => {\n        return datum[grid_chart.date_attr]\n      };\n    }\n\n    grid_chart.monthFormat = d3.time.format(grid_chart.display_date_format);\n    grid_chart.toMonthString = (datum) => {\n      return grid_chart.monthFormat(grid_chart.toDate(datum));\n    }\n  }\n\n  serializeData(data) {\n    var grid_chart = this;\n    data.css_class = data.css_class || grid_chart.toClass ? grid_chart.toClass(data) : \"\";\n\n    grid_chart.rangeValue = grid_chart.range_attr ? function(d) {\n      return d[grid_chart.range_attr];\n    } : grid_chart.rangeValue;\n\n    data.months = [];\n    if (data.min_range !== undefined && data.max_range !== undefined) {\n      data.range = {\n        min: data.min_range,\n        max: data.max_range\n      };\n      data.values.forEach((value) => {\n        var date = grid_chart.toDate(value),\n          date_s = grid_chart.monthFormat(date);\n        if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n      });\n    } else {\n      var min_range = Infinity,\n        max_range = -Infinity;\n      data.values.forEach((value) => {\n        var date = grid_chart.toDate(value),\n          date_s = grid_chart.monthFormat(date),\n          range_value = grid_chart.rangeValue(value);\n        min_range = Math.min(min_range, range_value);\n        max_range = Math.max(max_range, range_value);\n        if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n      });\n      if (grid_chart.min_range_zero) min_range = Math.min(min_range, 0);\n      data.range = {\n        min: min_range,\n        max: max_range\n      };\n    }\n    data.range.diff = data.range.max - data.range.min;\n\n    data.months = data.months.sort((date_s1, date_s2) => {\n      var date1 = grid_chart.monthFormat.parse(date_s1),\n        date2 = grid_chart.monthFormat.parse(date_s2);\n      return date1.getTime() - date2.getTime();\n    });\n    return data;\n  };\n\n  drawLegend(data) {\n    var grid_chart = this;\n    var colors = [grid_chart.color_max, grid_chart.color_min];\n    grid_chart.gridSize = Math.floor(grid_chart.outer_width / 31);\n    grid_chart.legendElementWidth = grid_chart.gridSize * 3.5;\n\n    var colorlegend = grid_chart.svg.append(\"g\").attr(\"class\", \"color-legend\");\n    var legend = grid_chart.svg.append(\"g\").attr(\"class\", \"legend\").selectAll()\n      .data([data.range.min, data.range.max], function(d) {\n        return d;\n      });\n\n    legend.enter().append(\"text\").attr(\"class\", \"legend-description\");\n\n    var gradient = colorlegend.append(\"defs\")\n      .append(\"linearGradient\")\n      .attr(\"id\", \"gradient\")\n      .attr(\"x1\", \"0%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"spreadMethod\", \"pad\");\n\n    gradient.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .attr(\"stop-color\", colors[1])\n      .attr(\"stop-opacity\", 1);\n\n    gradient.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .attr(\"stop-color\", colors[0])\n      .attr(\"stop-opacity\", 1);\n\n    colorlegend.append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", grid_chart.gridSize * data.months.length - 40)\n      .attr(\"width\", 120)\n      .attr(\"height\", 30)\n      .style(\"fill\", \"url(#gradient)\");\n\n    legend\n      .text(function(d) {\n        return Math.round(d);\n      })\n      .attr(\"x\", function(d, i) {\n        return grid_chart.legendElementWidth * i;\n      })\n      .attr(\"y\", grid_chart.gridSize * data.months.length + 5);\n\n    legend.exit().remove();\n  }\n\n  drawData(data) {\n    var grid_chart = this;\n    data = grid_chart.serializeData(data);\n    if (grid_chart.legend) grid_chart.drawLegend(data);\n\n    // calibrate axes\n    var y_axis_height = grid_chart.grid_unit_size * (1 + grid_chart.grid_padding) * data.months.length;\n    grid_chart.y_scale.rangeRoundBands([0, y_axis_height], grid_chart.grid_padding, 0);\n    grid_chart.y_scale.domain(data.months);\n    grid_chart.y_axis.scale(grid_chart.y_scale);\n\n    grid_chart.svg.select(\".d3-chart-range\")\n      .call(grid_chart.y_axis);\n\n    grid_chart.svg.select(\".d3-chart-domain\").call(grid_chart.x_axis);\n\n    var grid_units = grid_chart.svg.selectAll(\".d3-chart-grid-unit\")\n      .data(data.values);\n    grid_chart.applyData(data, grid_units.enter().append(\"rect\"));\n    grid_chart.applyData(data, grid_units.transition());\n    grid_units.exit().remove();\n  }\n\n  // helper method for drawData.\n  applyData(data, elements) {\n    var grid_chart = this,\n      series_class = \"d3-chart-grid-unit \" + data.css_class;\n    elements\n      .attr(\"class\", function(d) {\n        return series_class;\n      })\n      .attr(\"y\", function(d) {\n        var bottom = grid_chart.y_scale(grid_chart.toMonthString(d)),\n          middle = grid_chart.y_scale.rangeBand() / 2 - grid_chart.grid_unit_size / 2;\n        return bottom + middle;\n      })\n      .attr(\"height\", grid_chart.grid_unit_size)\n      .attr(\"x\", function(d) {\n        return grid_chart.x_scale(grid_chart.toDate(d).getDate());\n      })\n      .attr(\"width\", function(d) {\n        return grid_chart.grid_unit_size;\n      })\n      .attr('fill', grid_chart.color_max)\n      .attr(\"opacity\", function(d) {\n\n        return grid_chart.applyOpacity(grid_chart.rangeValue(d), data.range);\n      });\n  }\n\n  applyOpacity(value, range) {\n    return Math.max(0, Math.min(1, 1 - (range.max - (value - range.min)) / range.diff));\n  };\n\n}\n\nexport default CalendarGridChart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/grid/calendar_grid.js\n **/","const DEFAULTS = {\n  outer_width: 500,\n  outer_height: 300,\n  margin: {top: 0, left: 70, bottom: 50, right: 20},\n  domain_ticks: 10,\n  range_ticks: 8,\n  container: \"container\",\n  time_series: false,\n  range_label: undefined,\n  domain_attr: undefined,\n  range_attr: undefined,\n  titleize: function(series, datum){\n    var s = datum ? datum.name : series.title;\n    if (!s) return '';\n    var words = s.split(' '),\n      array = [];\n    for (var i=0; i<words.length; ++i) {\n      array.push(words[i].charAt(0).toUpperCase() + words[i].toLowerCase().slice(1));\n    }\n    return array.join(' ');\n  },\n  toClass: function(series){\n    return series.css_class ? series.css_class.toLowerCase().replace(/\\s+/g, '-') : \"\";\n  }\n};\n\n\nclass Chart {\n\n  constructor(options){\n    var chart = this;\n    Object.assign(chart, chart.chart_options, options);\n\n    chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n    chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\n    chart.svg = d3.select(chart.container).append(\"svg\")\n        .attr(\"width\", chart.outer_width)\n        .attr(\"height\", chart.outer_height)\n        .attr('class', chart.chart_class || '')\n      .append(\"g\")\n        .attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\")\n        .attr('class', 'd3-object-container');\n\n    chart.defineAxes();\n    if (chart.afterAxes) chart.afterAxes();\n  }\n\n  drawOne(selector, append, fn, scope){\n    let chart = this,\n        selection;\n    scope = scope || chart.svg;\n    selection = scope.selectAll(selector).data([0]);\n    selection.exit().remove();\n    [selection.enter().append(append), selection].forEach((element)=>{\n      fn(element);\n    });\n    return selection;\n  }\n\n}\n\nChart.DEFAULTS = DEFAULTS;\n\nexport default Chart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/base.js\n **/","import Chart from './../base';\n\nclass RangeSlider extends Chart {\n  get chart_options() {\n    return Object.assign(Object.assign({}, Chart.DEFAULTS), {\n      outer_width: 600,\n      outer_height: 100,\n      margin: {\n        top: 20,\n        left: 30,\n        bottom: 20,\n        right: 30\n      },\n      tick_amount: 6,\n      chart_class: 'd3-range-slider',\n      handle_r: 9\n    });\n  }\n\n  defineAxes() {\n    var range_slider = this;\n\n    if (range_slider.date_range) {\n      range_slider.x_scale = d3.time.scale();\n      range_slider.x_scale\n        .range([0, range_slider.width])\n        .clamp(true);\n    } else {\n      range_slider.x_scale = d3.scale.linear();\n      range_slider.x_scale\n        .range([0, range_slider.width])\n        .clamp(true);\n    }\n\n    range_slider.x_axis = range_slider.x_axis || d3.svg.axis();\n    range_slider.x_axis\n      .scale(range_slider.x_scale)\n      .orient(\"bottom\")\n      .tickSize(1)\n      .ticks(range_slider.tick_amount)\n      .outerTickSize(1)\n      .tickPadding(12);\n\n    range_slider.drawOne('.d3-chart-domain.d3-slider-axis', 'g', (axis)=>{\n      axis.attr(\"class\", \"d3-chart-domain d3-slider-axis\")\n      axis.attr(\"transform\", \"translate(0,\" + range_slider.height / 2 + \")\");\n    });\n\n  }\n\n  afterAxes() {\n    var range_slider = this;\n\n    range_slider.slider = range_slider.drawOne('.d3-chart-slider', 'g', (slider)=>{\n      slider.attr(\"class\", \"d3-chart-slider\");\n    });\n\n    range_slider.min_handle = range_slider.drawOne('.d3-chart-slider .d3-chart-min-handle', 'circle', (min_handle)=>{\n      min_handle.attr(\"class\", \"d3-chart-min-handle\")\n        .attr(\"transform\", \"translate(0,\" + range_slider.height / 2 + \")\")\n        .attr(\"r\", range_slider.handle_r);\n    }, range_slider.slider);\n\n    range_slider.max_handle = range_slider.drawOne('.d3-chart-slider .d3-chart-max-handle', 'circle', (max_handle)=>{\n      max_handle.attr(\"class\", \"d3-chart-max-handle\")\n        .attr(\"transform\", \"translate(0,\" + range_slider.height / 2 + \")\")\n        .attr(\"r\", range_slider.handle_r);\n    }, range_slider.slider);\n\n    range_slider.brush = d3.svg.brush()\n    range_slider.brush.x(range_slider.x_scale);\n\n    range_slider.slider\n      .call(range_slider.brush);\n\n    range_slider.slider.call(range_slider.brush)\n      .selectAll(\".extent,.resize\")\n      .remove();\n  }\n\n  drawData(data) {\n    var range_slider = this;\n    range_slider.x_scale.domain([data.abs_min, data.abs_max]);\n\n    range_slider.svg.select(\".d3-chart-domain\")\n      .call(range_slider.x_axis);\n\n    range_slider.min_handle.attr('cx', range_slider.x_scale(data.current_min));\n    range_slider.max_handle.attr('cx', range_slider.x_scale(data.current_max));\n\n    range_slider.brush.extent([data.current_min, data.current_min])\n      .on(\"brush\", () => {\n        RangeSlider.handleBrush(range_slider, eval('this'));\n      });\n\n    range_slider.slider\n      .call(range_slider.brush.event)\n      .transition()\n      .duration(750)\n      .call(range_slider.brush.extent([data.current_min, data.current_min]))\n      .call(range_slider.brush.event);\n    range_slider.data = data;\n  }\n\n  getDelta(type, changed_datum, other_datum) {\n    var range_slider = this;\n\n    if (type === 'max') {\n      if (range_slider.date_range) {\n        if (Math.abs(changed_datum.getTime() - other_datum.getTime()) > range_slider.delta.max) {\n          if (changed_datum > other_datum) {\n            return new Date(changed_datum.getTime() - range_slider.delta.max);\n          } else {\n            return new Date(changed_datum.getTime() + range_slider.delta.max);\n          }\n        }\n      } else {\n        if (Math.abs(changed_datum - other_datum) > range_slider.delta.max) {\n          if (changed_datum > other_datum) {\n            return (changed_datum - range_slider.delta.max);\n          } else {\n            return (changed_datum + range_slider.delta.max);\n          }\n        }\n      }\n      return false;\n    } else if (type === 'min') {\n      if (range_slider.date_range) {\n        if (Math.abs(changed_datum.getTime() - other_datum.getTime()) <= range_slider.delta.min) {\n          if (changed_datum < other_datum) {\n            return new Date(changed_datum.getTime() + range_slider.delta.min);\n          } else {\n            return new Date(changed_datum.getTime() - range_slider.delta.min);\n          }\n        }\n      } else {\n        if (Math.abs(changed_datum - other_datum) <= range_slider.delta.min) {\n          if (changed_datum < other_datum) {\n            return (changed_datum + range_slider.delta.min);\n          } else {\n            return (changed_datum - range_slider.delta.min);\n          }\n        }\n      }\n      return false;\n    }\n  }\n\n  static handleBrush(range_slider, elem) {\n    var datum = range_slider.brush.extent()[0],\n      current_min = parseInt(range_slider.min_handle.attr('cx')),\n      current_max = parseInt(range_slider.max_handle.attr('cx'));\n\n    if (!current_min && !current_max) return false\n    if (d3.event.sourceEvent) { // not a programmatic event\n      datum = range_slider.x_scale.invert(d3.mouse(elem)[0]);\n      range_slider.brush.extent([datum, datum]);\n    }\n\n    var value = range_slider.x_scale(datum);\n\n    if (value < current_max && value > current_min) {\n      // move min / max handle towards the other handle\n      if (Math.abs(value - current_min) < Math.abs(value - current_max)) {\n        // move min towards max\n        range_slider.min_handle.attr('cx', value);\n        current_min = value;\n        if (d3.event.sourceEvent && range_slider.delta.min) {\n          var new_current_min = range_slider.getDelta('min', datum, range_slider.x_scale.invert(current_max));\n          if (new_current_min) range_slider.max_handle.attr('cx', range_slider.x_scale(new_current_min));\n        }\n      } else {\n        // move max towards min\n        range_slider.max_handle.attr('cx', value);\n        current_max = value;\n        if (d3.event.sourceEvent && range_slider.delta.min) {\n          var new_current_min = range_slider.getDelta('min', datum, range_slider.x_scale.invert(current_min));\n          if (new_current_min) range_slider.min_handle.attr('cx', range_slider.x_scale(new_current_min));\n        }\n      }\n    } else if (value >= current_max) {\n      // move max handle\n      range_slider.max_handle.attr('cx', value);\n      current_max = value;\n      if (d3.event.sourceEvent && range_slider.delta.max) {\n        var new_current_min = range_slider.getDelta('max', datum, range_slider.x_scale.invert(current_min));\n        if (new_current_min) range_slider.min_handle.attr('cx', range_slider.x_scale(new_current_min));\n      }\n    } else if (value <= current_min) {\n      range_slider.min_handle.attr('cx', value);\n      current_min = value;\n      if (d3.event.sourceEvent && range_slider.delta.max) {\n        var new_current_max = range_slider.getDelta('max', datum, range_slider.x_scale.invert(current_max));\n        if (new_current_max) range_slider.max_handle.attr('cx', range_slider.x_scale(new_current_max));\n      }\n    }\n\n    if (d3.event.sourceEvent && range_slider.onRangeUpdated) {\n      range_slider.onRangeUpdated(range_slider.x_scale.invert(current_min), range_slider.x_scale.invert(current_max));\n    }\n  }\n\n  redraw(opts){\n    let chart = this;\n    Object.assign(chart, opts);\n    chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n    chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\n    d3.select(chart.container + ' svg')\n        .attr(\"width\", chart.outer_width)\n        .attr(\"height\", chart.outer_height)\n      .select(\".d3-object-container\")\n        .attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n    chart.defineAxes();\n    if (chart.afterAxes) chart.afterAxes();\n    chart.drawData(chart.data);\n  }\n\n}\n\nexport default RangeSlider;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/slider/range_slider.js\n **/","import Chart from './../base';\n\nclass SnapSlider extends Chart {\n  get chart_options() {\n    return Object.assign(Object.assign({}, Chart.DEFAULTS), {\n      outer_width: 600,\n      outer_height: 100,\n      margin: {\n        top: 20,\n        left: 30,\n        bottom: 20,\n        right: 30\n      },\n      tick_amount: 6,\n      chart_class: 'd3-snap-slider',\n      snap_debounce: 150,\n      handle_r: 9\n    });\n  }\n\n  defineAxes() {\n    var snap_slider = this;\n\n    snap_slider.ensureTickHelpers();\n\n    if (snap_slider.date_range) {\n      snap_slider.x_scale = d3.time.scale()\n        .range([0, snap_slider.width])\n        .clamp(true);\n    } else {\n      snap_slider.x_scale = d3.scale.linear()\n        .range([0, snap_slider.width])\n        .clamp(true);\n    }\n\n    snap_slider.x_axis = d3.svg.axis()\n      .scale(snap_slider.x_scale)\n      .orient(\"bottom\")\n      .tickSize(1)\n      .tickValues(snap_slider.tick_values)\n      .tickFormat((d)=>{ return snap_slider.tickLabel(d); })\n      .outerTickSize(1)\n      .tickPadding(12);\n\n    snap_slider.drawOne('.d3-chart-domain.d3-slider-axis', 'g', (g)=>{\n      g.attr(\"class\", \"d3-chart-domain d3-slider-axis\")\n        .attr(\"transform\", \"translate(0,\" + snap_slider.height / 2 + \")\");\n    })\n  }\n\n  ensureTickHelpers(){\n    let snap_slider = this;\n    if (snap_slider.tick_values === undefined){\n      snap_slider.tick_values = Object.keys(snap_slider.tick_labels).map((val)=>{ return parseInt(val) });\n    }\n    if (snap_slider.tickLabel === undefined && snap_slider.tick_labels === undefined){\n      snap_slider.tickLabel = (tick_value)=>{ return tick_value; }\n    } else if (snap_slider.tickLabel === undefined){\n      snap_slider.tickLabel = (tick_value)=>{ return snap_slider.tick_labels[tick_value]; }\n    }\n  }\n\n  afterAxes() {\n    var snap_slider = this;\n\n    snap_slider.slider = snap_slider.drawOne('.d3-chart-slider', 'g', (g)=>{\n      g.attr(\"class\", \"d3-chart-slider\");\n    });\n\n    snap_slider.handle = snap_slider.drawOne('.d3-chart-handle', 'circle', (handle)=>{\n      handle\n        .attr(\"class\", \"d3-chart-handle\")\n        .attr(\"transform\", \"translate(0,\" + snap_slider.height / 2 + \")\")\n        .attr(\"r\", snap_slider.handle_r);\n    }, snap_slider.slider);\n\n    snap_slider.brush = d3.svg.brush()\n      .x(snap_slider.x_scale);\n\n    snap_slider.slider\n      .call(snap_slider.brush);\n\n    snap_slider.slider.call(snap_slider.brush)\n      .selectAll(\".extent,.resize\")\n      .remove();\n  }\n\n  drawData(data) {\n    var snap_slider = this;\n    snap_slider.x_scale.domain([data.abs_min, data.abs_max]);\n\n    snap_slider.svg.select(\".d3-chart-domain\")\n      .call(snap_slider.x_axis);\n\n    snap_slider.handle.attr('cx', snap_slider.x_scale(data.current_value));\n\n    snap_slider.brush.extent([data.current_value, data.current_value])\n      .on(\"brush\", () => {\n        SnapSlider.handleBrush(snap_slider, eval('this'));\n      });\n\n    snap_slider.slider\n      .call(snap_slider.brush.event)\n      .transition()\n      .duration(750)\n      .call(snap_slider.brush.extent([data.current_value, data.current_value]))\n      .call(snap_slider.brush.event);\n\n    d3.select(snap_slider.container)\n        .selectAll('.tick')\n        .on('click',(d)=>{\n          let click_position = snap_slider.x_scale(d);\n          snap_slider.handle.attr('cx', click_position)\n          if (snap_slider.onSnap) {\n            snap_slider.onSnap(d);\n          }\n        });\n\n    snap_slider.current_value = data.current_value;\n    snap_slider.data = data;\n  }\n\n  setValue(value, opts){\n    opts = Object.assign({\n      exec_callback: true\n    }, opts || {});\n\n    let snap_slider = this;\n    value = snap_slider.findNearestTickValue(value);\n    snap_slider.data.current_value = value;\n\n    snap_slider.current_value = value;\n    let value_position = snap_slider.x_scale(value);\n    snap_slider.handle.attr('cx', value_position);\n\n    if (snap_slider.onSnap && opts.exec_callback) {\n      snap_slider.onSnap(value);\n    }\n  }\n\n  findNearestTickValue(value){\n    let snap_slider = this,\n        snap_value = undefined;\n    // SnapSlider#ticks must be sorted ASC.\n\n    for (let i=0; i<snap_slider.tick_values.length; i++){\n      let this_value = snap_slider.tick_values[i],\n          next_value = snap_slider.tick_values[i+1];\n      if (next_value === undefined){\n        return this_value;\n      } else if (value < next_value){\n        let snap_position;\n        if (Math.abs(value - this_value) < Math.abs(value - next_value)){\n          return this_value;\n        } else {\n          return next_value;\n        }\n      }\n    }\n  }\n\n  redraw(opts){\n    let chart = this;\n    Object.assign(chart, opts);\n    chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n    chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\n    d3.select(chart.container + ' svg')\n        .attr(\"width\", chart.outer_width)\n        .attr(\"height\", chart.outer_height)\n      .select(\".d3-object-container\")\n        .attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n    chart.defineAxes();\n    if (chart.afterAxes) chart.afterAxes();\n    chart.drawData(chart.data);\n  }\n\n  static handleBrush(snap_slider, elem) {\n    var brush_value = snap_slider.brush.extent()[0],\n        handle_position = parseInt(snap_slider.handle.attr('cx'));\n\n    let source_event = d3.event.sourceEvent\n    if (handle_position === null || !source_event) return false;\n\n    if (source_event) { // UI triggered event\n      brush_value = snap_slider.x_scale.invert(d3.mouse(elem)[0]);\n      snap_slider.brush.extent([brush_value, brush_value]);\n    }\n\n    var brush_position = snap_slider.x_scale(brush_value);\n\n    snap_slider.handle.attr('cx', brush_position);\n\n    // don't continually snap - debounce every 500ms.\n    if (snap_slider.$handle_brush) clearTimeout(snap_slider.$handle_brush);\n\n    snap_slider.$handle_brush = setTimeout(()=>{\n      // set handle position to closes tick mark.\n      let snap_value = snap_slider.findNearestTickValue(brush_value),\n          snap_position = snap_slider.x_scale(snap_value);\n      snap_slider.handle.attr('cx', snap_position);\n      snap_slider.current_value = snap_value;\n\n      // execute callback after handle has been snapped.\n      if (source_event && snap_slider.onSnap) {\n        snap_slider.onSnap(snap_value);\n      }\n\n    }, snap_slider.snap_debounce)\n\n  }\n}\n\nexport default SnapSlider;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/slider/snap_slider.js\n **/","import Chart from './../base';\n\nclass SimpleSlider extends Chart {\n  get chart_options() {\n    return Object.assign(Object.assign({}, Chart.DEFAULTS), {\n      outer_width: 600,\n      outer_height: 100,\n      margin: {\n        top: 20,\n        left: 30,\n        bottom: 20,\n        right: 30\n      },\n      tick_amount: 6,\n      callback_debounce: 200,\n      chart_class: 'd3-simple-slider',\n      handle_r: 9\n    });\n  }\n\n  defineAxes() {\n    var simple_slider = this;\n\n    simple_slider.ensureTickHelpers();\n\n    if (simple_slider.date_range) {\n      simple_slider.x_scale = d3.time.scale()\n        .range([0, simple_slider.width])\n        .clamp(true);\n    } else {\n      simple_slider.x_scale = d3.scale.linear()\n        .range([0, simple_slider.width])\n        .clamp(true);\n    }\n\n    simple_slider.x_axis = d3.svg.axis()\n      .scale(simple_slider.x_scale)\n      .orient(\"bottom\")\n      .tickSize(1)\n      .tickValues(simple_slider.tick_values)\n      .tickFormat((d)=>{ return simple_slider.tickLabel(d); })\n      .outerTickSize(1)\n      .tickPadding(12);\n\n    simple_slider.drawOne('.d3-chart-domain.d3-slider-axis', 'g', (axis)=>{\n      axis\n        .attr(\"class\", \"d3-chart-domain d3-slider-axis\")\n        .attr(\"transform\", \"translate(0,\" + simple_slider.height / 2 + \")\");\n    });\n  }\n\n  ensureTickHelpers(){\n    let simple_slider = this;\n    if (simple_slider.tick_values === undefined){\n      simple_slider.tick_values = Object.keys(simple_slider.tick_labels).map((val)=>{ return parseInt(val) });\n    }\n    if (simple_slider.tickLabel === undefined && simple_slider.tick_labels === undefined){\n      simple_slider.tickLabel = (tick_value)=>{ return tick_value; }\n    } else if (simple_slider.tickLabel === undefined){\n      simple_slider.tickLabel = (tick_value)=>{ return simple_slider.tick_labels[tick_value]; }\n    }\n  }\n\n  afterAxes() {\n    var simple_slider = this;\n\n    simple_slider.slider = simple_slider.drawOne('.d3-chart-slider', 'g', (slider)=>{\n      slider.attr(\"class\", \"d3-chart-slider\");\n    })\n\n    simple_slider.handle = simple_slider.drawOne('.d3-chart-handle', 'circle', (handle)=>{\n      handle\n        .attr(\"class\", \"d3-chart-handle\")\n        .attr(\"transform\", \"translate(0,\" + simple_slider.height / 2 + \")\")\n        .attr(\"r\", simple_slider.handle_r)\n    },  simple_slider.slider);\n\n    simple_slider.brush = d3.svg.brush()\n      .x(simple_slider.x_scale);\n\n    simple_slider.slider\n      .call(simple_slider.brush);\n\n    simple_slider.slider.call(simple_slider.brush)\n      .selectAll(\".extent,.resize\")\n      .remove();\n\n    if(simple_slider.background_drag) {\n      simple_slider.svg.select(\".background\")\n        .attr(\"height\", simple_slider.outer_height);\n    }\n  }\n\n  drawData(data) {\n    var simple_slider = this;\n    simple_slider.x_scale.domain([data.abs_min, data.abs_max]);\n\n    simple_slider.svg.select(\".d3-chart-domain\")\n      .call(simple_slider.x_axis);\n\n    simple_slider.handle.attr('cx', simple_slider.x_scale(data.current_value));\n\n    simple_slider.brush.extent([data.current_value, data.current_value])\n      .on(\"brush\", () => {\n        // weird event context hack.\n        SimpleSlider.handleBrush(simple_slider, eval('this'));\n      });\n\n    simple_slider.slider\n      .call(simple_slider.brush.event)\n      .transition()\n      .duration(750)\n      .call(simple_slider.brush.extent([data.current_value, data.current_value]))\n      .call(simple_slider.brush.event);\n\n    d3.select(simple_slider.container)\n        .selectAll('.tick')\n        .on('click',(d)=>{\n          let click_position = simple_slider.x_scale(d);\n          simple_slider.handle.attr('cx', click_position)\n          if (simple_slider.onChange) {\n            simple_slider.onChange(d);\n          }\n        });\n\n    simple_slider.data = data;\n    simple_slider.current_value = data.current_value;\n  }\n\n  setValue(value, opts){\n    opts = Object.assign({\n      exec_callback: true\n    }, opts || {});\n    let simple_slider = this;\n    simple_slider.data.current_value = value;\n\n    simple_slider.current_value = value;\n    let value_position = simple_slider.x_scale(value);\n    simple_slider.handle.attr('cx', value_position);\n\n    if (simple_slider.onChange && opts.exec_callback) {\n      simple_slider.onChange(value);\n    }\n  }\n\n  redraw(opts){\n    let chart = this;\n    Object.assign(chart, opts);\n    chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n    chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\n    d3.select(chart.container + ' svg')\n        .attr(\"width\", chart.outer_width)\n        .attr(\"height\", chart.outer_height)\n      .select(\".d3-object-container\")\n        .attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n\n    if(chart.background_drag) {\n      d3.select(chart.container + ' svg')\n        .select(\".background\")\n        .attr(\"height\", chart.outer_height);\n    }\n\n    chart.defineAxes();\n    if (chart.afterAxes) chart.afterAxes();\n    chart.drawData(chart.data);\n  }\n\n  static handleBrush(simple_slider, elem) {\n    var brush_value = simple_slider.brush.extent()[0],\n        handle_position = parseInt(simple_slider.handle.attr('cx'));\n\n    let source_event = d3.event.sourceEvent\n    if (handle_position === null || !source_event) return false;\n\n    if (source_event) { // UI triggered event\n      brush_value = simple_slider.x_scale.invert(d3.mouse(elem)[0]);\n      simple_slider.brush.extent([brush_value, brush_value]);\n    }\n\n    var brush_position = simple_slider.x_scale(brush_value);\n\n    simple_slider.handle.attr('cx', brush_position);\n\n    if (!simple_slider.onChange || !source_event) return false;\n\n    // don't continually snap - debounce according to callback_debounce.\n    if (simple_slider.$handle_brush) clearTimeout(simple_slider.$handle_brush);\n\n    simple_slider.$handle_brush = setTimeout(()=>{\n      simple_slider.onChange(brush_value);\n    }, simple_slider.callback_debounce)\n\n  }\n\n}\n\nexport default SimpleSlider;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/slider/simple_slider.js\n **/"],"sourceRoot":""}
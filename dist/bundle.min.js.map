{"version":3,"sources":["webpack:///bundle.min.js","webpack:///webpack/bootstrap ffbd8f7a904f76fb3318","webpack:///./src/main.js","webpack:///./src/line/spline_stack.js","webpack:///./src/line/line.js","webpack:///./src/base.js","webpack:///./src/grid/calendar_grid.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_spline_stack","_calendar_grid","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_line","_line2","SplineStackChart","_LineChart","this","getPrototypeOf","apply","arguments","spline_stack","fnArea","d3","svg","area","x","d","x_scale","y","range_attr","y0","y_scale","y1","interpolate","interpolation","fnStack","layout","stack","values","fnColor","scale","category20","data","console","log","serialized_data","series","forEach","css_class","toClass","title","titleize","domain_attr","map","push","domain_extent","extent","range_max","max","serializeData","domain","select","y_axis","x_axis","selectAll","enter","append","transition","paths","applyData","exit","remove","attr","style","get","assign","DEFAULTS","time_series","_base","_base2","LineChart","_Chart","chart","linear","range","height","axis","orient","outerTickSize","time","width","line_chart","line","chart_options","color","range_min","Infinity","domain_min","domain_max","data_set","series_data","Math","min","serialize_data","bar_chart","g","groups","outer_width","outer_height","margin","top","left","bottom","right","domain_ticks","range_ticks","container","range_label","undefined","datum","s","name","words","split","array","charAt","toUpperCase","toLowerCase","slice","join","replace","Chart","options","defineAxes","afterAxes","CalendarGridChart","grid_chart","ordinal","n","rangeRoundBands","grid_padding","grid_unit_size","display_date_format","displayDate","format","toDate","parse_date_format","parseDate","date_attr","monthFormat","toMonthString","rangeValue","months","min_range","max_range","date","date_s","indexOf","range_value","min_range_zero","diff","sort","date_s1","date_s2","date1","parse","date2","getTime","y_axis_height","grid_units","elements","series_class","middle","rangeBand","getDate","applyOpacity"],"mappings":"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","file":"bundle.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _spline_stack = __webpack_require__(1);\n\t\n\tvar _spline_stack2 = _interopRequireDefault(_spline_stack);\n\t\n\tvar _calendar_grid = __webpack_require__(4);\n\t\n\tvar _calendar_grid2 = _interopRequireDefault(_calendar_grid);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(5);\n\t\n\t// import VerticalBarChart from './bar/vertical';\n\t// import HorizontalBarChart from './bar/horizontal';\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _line = __webpack_require__(2);\n\t\n\tvar _line2 = _interopRequireDefault(_line);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// inspired by https://bl.ocks.org/mbostock/3885211\n\t\n\tvar SplineStackChart = function (_LineChart) {\n\t  _inherits(SplineStackChart, _LineChart);\n\t\n\t  function SplineStackChart() {\n\t    _classCallCheck(this, SplineStackChart);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(SplineStackChart).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(SplineStackChart, [{\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var spline_stack = this;\n\t      spline_stack.fnArea = d3.svg.area().x(function (d, i) {\n\t        return spline_stack.x_scale(d.x);\n\t      }).y(function (d) {\n\t        return d(spline_stack.range_attr);\n\t      }).y0(function (d) {\n\t        return spline_stack.y_scale(d.y0);\n\t      }).y1(function (d) {\n\t        return spline_stack.y_scale(d.y0 + d.y);\n\t      }).interpolate(spline_stack.interpolation);\n\t\n\t      spline_stack.fnStack = d3.layout.stack().values(function (d) {\n\t        return d.values;\n\t      });\n\t\n\t      // function that returns unique color based on series_title.\n\t      spline_stack.fnColor = d3.scale.category20();\n\t    }\n\t  }, {\n\t    key: 'serializeData',\n\t    value: function serializeData(data) {\n\t      console.log(\"unserialized data\", data);\n\t      var spline_stack = this,\n\t          serialized_data = {\n\t        series: [] };\n\t\n\t      data.series.forEach(function (series, i) {\n\t        series.css_class = series.css_class || spline_stack.toClass ? spline_stack.toClass(series) : \"\";\n\t        series.title = series.title || spline_stack.toClass ? spline_stack.titleize(series) : \"\";\n\t        if (spline_stack.domain_attr !== 'x' && spline_stack.range_attr !== 'y') {\n\t          series.values = series.values.map(function (value) {\n\t            return { x: value[spline_stack.domain_attr], y: value[spline_stack.range_attr], series: series };\n\t          });\n\t        }\n\t        serialized_data.series.push(series);\n\t      });\n\t      serialized_data.series = spline_stack.fnStack(serialized_data.series);\n\t      // assume all series have same domain, use first series to establish extent.\n\t      serialized_data.domain_extent = d3.extent(serialized_data.series[0].values.map(function (value) {\n\t        return value.x;\n\t      }));\n\t      // final series will have the highest y values.\n\t      serialized_data.range_max = d3.max(serialized_data.series[serialized_data.series.length - 1].values.map(function (value) {\n\t        return value.y0 + value.y;\n\t      }));\n\t      console.log(\"serialized data\", serialized_data);\n\t      return serialized_data;\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var spline_stack = this;\n\t      data = spline_stack.serializeData(data);\n\t\n\t      // calibrate axes.\n\t      spline_stack.y_scale.domain([0, data.range_max]);\n\t      spline_stack.svg.select(\".d3-chart-range.d3-chart-axis\").call(spline_stack.y_axis);\n\t\n\t      spline_stack.x_scale.domain(data.domain_extent);\n\t      spline_stack.svg.select(\".d3-chart-domain.d3-chart-axis\").call(spline_stack.x_axis);\n\t\n\t      var stack = spline_stack.svg.selectAll(\".d3-chart-spline-stack\").data(data.series);\n\t      [stack.enter().append(\"path\"), stack.transition()].forEach(function (paths) {\n\t        spline_stack.applyData(paths);\n\t      });\n\t      stack.exit().remove();\n\t    }\n\t  }, {\n\t    key: 'applyData',\n\t    value: function applyData(paths) {\n\t      var spline_stack = this;\n\t      paths.attr(\"class\", function (series) {\n\t        \"d3-chart-spline-stack \" + series.css_class;\n\t      }).attr(\"d\", function (series) {\n\t        return spline_stack.fnArea(series.values);\n\t      }).style(\"fill\", function (series) {\n\t        return spline_stack.fnColor(series.title);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      return Object.assign(Object.assign({}, _line2.default.DEFAULTS), {\n\t        interpolation: 'cardinal',\n\t        range_attr: 'y',\n\t        domain_attr: 'x',\n\t        time_series: true\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return SplineStackChart;\n\t}(_line2.default);\n\t\n\texports.default = SplineStackChart;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(3);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// inspired by https://gist.github.com/mbostock/4b66c0d9be9a0d56484e\n\t\n\tvar LineChart = function (_Chart) {\n\t  _inherits(LineChart, _Chart);\n\t\n\t  function LineChart() {\n\t    _classCallCheck(this, LineChart);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(LineChart).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(LineChart, [{\n\t    key: 'defineAxes',\n\t    value: function defineAxes() {\n\t      var chart = this;\n\t\n\t      chart.y_scale = d3.scale.linear().range([chart.height, 0]);\n\t      chart.y_axis = d3.svg.axis().scale(chart.y_scale).orient(\"left\").outerTickSize(1);\n\t\n\t      if (chart.time_series) {\n\t        chart.x_scale = d3.time.scale().range([0, chart.width]);\n\t      } else {\n\t        chart.x_scale = d3.scale.linear().range([0, chart.width]);\n\t      }\n\t\n\t      chart.x_axis = d3.svg.axis().scale(chart.x_scale).orient(\"bottom\").outerTickSize(0);\n\t      //chart.x_axis.tickFormat(d3.time.format('%b %d at %H'))\n\t      //chart.x_axis.ticks(d3.time.hour, 12);\n\t\n\t      // append axes\n\t      chart.svg.append(\"g\").attr(\"class\", \"d3-chart-range d3-chart-axis\");\n\t      chart.svg.append(\"g\").attr(\"class\", \"d3-chart-domain d3-chart-axis\").attr(\"transform\", \"translate(0, \" + chart.height + \")\");\n\t    }\n\t  }, {\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var line_chart = this;\n\t      // function that draws the lines.\n\t      line_chart.line = d3.svg.line().interpolate(line_chart.chart_options.interpolation).x(function (d) {\n\t        return line_chart.x_scale(d[line_chart.domain_attr]);\n\t      }).y(function (d) {\n\t        return line_chart.y_scale(d[line_chart.range_attr]);\n\t      });\n\t\n\t      // function that returns unique color based on series_title.\n\t      line_chart.color = d3.scale.category20();\n\t    }\n\t  }, {\n\t    key: 'serializeData',\n\t    value: function serializeData(data) {\n\t      var line_chart = this,\n\t          serialized_data = {\n\t        series: [],\n\t        range_min: Infinity,\n\t        range_max: -Infinity,\n\t        domain_min: Infinity,\n\t        domain_max: -Infinity\n\t      };\n\t\n\t      data.forEach(function (data_set) {\n\t        var series = Object.assign({\n\t          css_class: line_chart.toClass ? line_chart.toClass(data_set) : \"\",\n\t          title: line_chart.titleize ? line_chart.titleize(data_set) : \"\",\n\t          color: ''\n\t        }, data_set);\n\t\n\t        series.values.forEach(function (value) {\n\t          series_data.range_min = Math.min(series_data.range_min, value[line_chart.range_attr]);\n\t          series_data.range_max = Math.max(series_data.range_max, value[line_chart.range_attr]);\n\t          series_data.domain_min = Math.min(series_data.domain_min, value[line_chart.domain_attr]);\n\t          series_data.domain_max = Math.max(series_data.domain_max, value[line_chart.domain_attr]);\n\t        });\n\t        serialized_data.series.push(series);\n\t      });\n\t      return serialized_data;\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var line_chart = this;\n\t      data = line_chart.serialize_data;\n\t\n\t      // calibrate axes\n\t      bar_chart.y_scale.domain([Math.min(0, data.range_min), data.range_max]);\n\t      bar_chart.svg.select(\".d3-chart-range.d3-chart-axis\").call(bar_chart.y_axis);\n\t\n\t      bar_chart.x_scale.domain([data.domain_max, Math.min(data.domain_min)]);\n\t      bar_chart.svg.select(\".d3-chart-domain.d3-chart-axis\").call(bar_chart.x_axis);\n\t\n\t      // draw lines\n\t      var line = g.selectAll(\".d3-chart-series\").data(data.series);\n\t\n\t      [line.enter().append('g'), line.transition()].forEach(function (groups) {\n\t        line_chart.applyData(groups);\n\t      });\n\t      line.exit().remove();\n\t    }\n\t  }, {\n\t    key: 'applyData',\n\t    value: function applyData(groups) {\n\t      var line_chart = this;\n\t      groups.attr('class', function (series) {\n\t        return \"d3-chart-line \" + series.css_class;\n\t      }).attr(\"title\", function (series) {\n\t        return series.title;\n\t      }).append(\"path\").attr(\"d\", function (series) {\n\t        return line_chart.line(series.values);\n\t      }).style(\"stroke\", function (series) {\n\t        return line_chart.color(series.title);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      return {\n\t        interpolation: 'basis'\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return LineChart;\n\t}(_base2.default);\n\t\n\texports.default = LineChart;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULTS = {\n\t  outer_width: 500,\n\t  outer_height: 300,\n\t  margin: { top: 0, left: 70, bottom: 50, right: 20 },\n\t  domain_ticks: 10,\n\t  range_ticks: 8,\n\t  container: \"container\",\n\t  time_series: false,\n\t  range_label: undefined,\n\t  domain_attr: undefined,\n\t  range_attr: undefined,\n\t  titleize: function titleize(series, datum) {\n\t    var s = datum ? datum.name : series.title;\n\t    if (!s) return '';\n\t    var words = s.split(' '),\n\t        array = [];\n\t    for (var i = 0; i < words.length; ++i) {\n\t      array.push(words[i].charAt(0).toUpperCase() + words[i].toLowerCase().slice(1));\n\t    }\n\t    return array.join(' ');\n\t  },\n\t  toClass: function toClass(series) {\n\t    return series ? series.title.toLowerCase().replace(/\\s+/g, '-') : \"\";\n\t  }\n\t};\n\t\n\tvar Chart = function Chart(options) {\n\t  _classCallCheck(this, Chart);\n\t\n\t  var chart = this;\n\t  Object.assign(chart, chart.chart_options, options);\n\t\n\t  chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n\t  chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\t\n\t  chart.svg = d3.select(chart.container).append(\"svg\").attr(\"width\", chart.outer_width).attr(\"height\", chart.outer_height).append(\"g\").attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n\t  chart.defineAxes();\n\t  if (chart.afterAxes) chart.afterAxes();\n\t};\n\t\n\tChart.DEFAULTS = DEFAULTS;\n\t\n\texports.default = Chart;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _base = __webpack_require__(3);\n\t\n\tvar _base2 = _interopRequireDefault(_base);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t// inspired by https://gist.github.com/mbostock/4b66c0d9be9a0d56484e\n\t\n\tvar CalendarGridChart = function (_Chart) {\n\t  _inherits(CalendarGridChart, _Chart);\n\t\n\t  function CalendarGridChart() {\n\t    _classCallCheck(this, CalendarGridChart);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(CalendarGridChart).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(CalendarGridChart, [{\n\t    key: 'defineAxes',\n\t    value: function defineAxes() {\n\t      var grid_chart = this;\n\t\n\t      // y scale is dependent on number of months.\n\t      grid_chart.y_axis = d3.svg.axis().orient(\"left\").outerTickSize(0);\n\t      grid_chart.y_scale = d3.scale.ordinal();\n\t      grid_chart.svg.append(\"g\").attr(\"class\", \"d3-chart-range d3-chart-axis\");\n\t\n\t      grid_chart.x_scale = d3.scale.ordinal().domain(d3.range(31).map(function (n) {\n\t        return n + 1;\n\t      })).rangeRoundBands([0, grid_chart.width], grid_chart.grid_padding, 0);\n\t\n\t      grid_chart.x_axis = d3.svg.axis().scale(grid_chart.x_scale).orient(\"top\").outerTickSize(0);\n\t\n\t      // append x axis\n\t      grid_chart.svg.append(\"g\").attr(\"class\", \"d3-chart-domain d3-chart-axis\");\n\t    }\n\t  }, {\n\t    key: 'afterAxes',\n\t    value: function afterAxes() {\n\t      var grid_chart = this;\n\t      grid_chart.grid_unit_size = grid_chart.width / 31 - grid_chart.grid_padding * grid_chart.width / 30;\n\t\n\t      if (grid_chart.display_date_format) grid_chart.displayDate = d3.time.format(grid_chart.display_date_format);\n\t\n\t      if (!grid_chart.toDate && grid_chart.parse_date_format) {\n\t        grid_chart.parseDate = d3.time.format(grid_chart.parse_date_format);\n\t        grid_chart.toDate = function (datum) {\n\t          grid_chart.parseDate(datum[grid_chart.date_attr]);\n\t        };\n\t      } else if (!grid_chart.toDate) {\n\t        grid_chart.toDate = function (datum) {\n\t          return datum[grid_chart.date_attr];\n\t        };\n\t      }\n\t\n\t      grid_chart.monthFormat = d3.time.format('%B %Y');\n\t      grid_chart.toMonthString = function (datum) {\n\t        return grid_chart.monthFormat(grid_chart.toDate(datum));\n\t      };\n\t    }\n\t  }, {\n\t    key: 'serializeData',\n\t    value: function serializeData(data) {\n\t      var grid_chart = this;\n\t      data.css_class = data.css_class || grid_chart.toClass ? grid_chart.toClass(data) : \"\";\n\t\n\t      grid_chart.rangeValue = grid_chart.range_attr ? function (d) {\n\t        return d[grid_chart.range_attr];\n\t      } : grid_chart.rangeValue;\n\t\n\t      data.months = [];\n\t      if (data.min_range !== undefined && data.max_range !== undefined) {\n\t        data.range = { min: data.min_range, max: data.max_range };\n\t        data.values.forEach(function (value) {\n\t          var date = grid_chart.toDate(value),\n\t              date_s = grid_chart.monthFormat(date);\n\t          if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n\t        });\n\t      } else {\n\t        var min_range = Infinity,\n\t            max_range = -Infinity;\n\t        data.values.forEach(function (value) {\n\t          var date = grid_chart.toDate(value),\n\t              date_s = grid_chart.monthFormat(date),\n\t              range_value = grid_chart.rangeValue(value);\n\t          min_range = Math.min(min_range, range_value);\n\t          max_range = Math.max(max_range, range_value);\n\t          if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n\t        });\n\t        if (grid_chart.min_range_zero) min_range = Math.min(min_range, 0);\n\t        data.range = { min: min_range, max: max_range };\n\t      }\n\t      data.range.diff = data.range.max - data.range.min;\n\t\n\t      data.months = data.months.sort(function (date_s1, date_s2) {\n\t        var date1 = grid_chart.monthFormat.parse(date_s1),\n\t            date2 = grid_chart.monthFormat.parse(date_s2);\n\t        return date1.getTime() - date2.getTime();\n\t      });\n\t      return data;\n\t    }\n\t  }, {\n\t    key: 'drawData',\n\t    value: function drawData(data) {\n\t      var grid_chart = this;\n\t      data = grid_chart.serializeData(data);\n\t\n\t      // calibrate axes\n\t      var y_axis_height = grid_chart.grid_unit_size * (1 + grid_chart.grid_padding) * data.months.length;\n\t      grid_chart.y_scale.rangeRoundBands([0, y_axis_height], grid_chart.grid_padding, 0);\n\t      grid_chart.y_scale.domain(data.months);\n\t      grid_chart.y_axis.scale(grid_chart.y_scale);\n\t\n\t      grid_chart.svg.select(\".d3-chart-range\").call(grid_chart.y_axis);\n\t\n\t      grid_chart.svg.select(\".d3-chart-domain\").call(grid_chart.x_axis);\n\t\n\t      var grid_units = grid_chart.svg.selectAll(\".d3-chart-grid-unit\").data(data.values);\n\t      grid_chart.applyData(data, grid_units.enter().append(\"rect\"));\n\t      grid_chart.applyData(data, grid_units.transition());\n\t      grid_units.exit().remove();\n\t    }\n\t\n\t    // helper method for drawData.\n\t\n\t  }, {\n\t    key: 'applyData',\n\t    value: function applyData(data, elements) {\n\t      var grid_chart = this,\n\t          series_class = \"d3-chart-grid-unit \" + data.css_class;\n\t      elements.attr(\"class\", function (d) {\n\t        return series_class;\n\t      }).attr(\"y\", function (d) {\n\t        var bottom = grid_chart.y_scale(grid_chart.toMonthString(d)),\n\t            middle = grid_chart.y_scale.rangeBand() / 2 - grid_chart.grid_unit_size / 2;\n\t        return bottom + middle;\n\t      }).attr(\"height\", grid_chart.grid_unit_size).attr(\"x\", function (d) {\n\t        return grid_chart.x_scale(grid_chart.toDate(d).getDate());\n\t      }).attr(\"width\", function (d) {\n\t        return grid_chart.grid_unit_size;\n\t      }).attr('fill', grid_chart.color).attr(\"opacity\", function (d) {\n\t\n\t        return grid_chart.applyOpacity(grid_chart.rangeValue(d), data.range);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'applyOpacity',\n\t    value: function applyOpacity(value, range) {\n\t      return Math.max(0, Math.min(1, 1 - (range.max - (value - range.min)) / range.diff));\n\t    }\n\t  }, {\n\t    key: 'chart_options',\n\t    get: function get() {\n\t      var chart = this;\n\t      return Object.assign(Object.assign({}, _base2.default.DEFAULTS), {\n\t        margin: { top: 30, left: 150, bottom: 0, right: 0 },\n\t        grid_padding: 0.05,\n\t        parse_date_format: '%Y-%m-%d',\n\t        display_date_format: '%B %Y',\n\t        date_attr: 'date',\n\t        min_range_zero: false,\n\t        color: '#FFF',\n\t        extent: []\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return CalendarGridChart;\n\t}(_base2.default);\n\t\n\texports.default = CalendarGridChart;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ffbd8f7a904f76fb3318\n **/","require('./style.scss');\n\n// import VerticalBarChart from './bar/vertical';\n// import HorizontalBarChart from './bar/horizontal';\nimport SplineStackChart from './line/spline_stack';\nimport CalendarGridChart from './grid/calendar_grid';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import LineChart from './line';\n\n// inspired by https://bl.ocks.org/mbostock/3885211\nclass SplineStackChart extends LineChart {\n\n  get chart_options(){\n    return Object.assign(Object.assign({}, LineChart.DEFAULTS), {\n      interpolation: 'cardinal',\n      range_attr: 'y',\n      domain_attr: 'x',\n      time_series: true\n    });\n  }\n\n  afterAxes(){\n    var spline_stack = this;\n    spline_stack.fnArea = d3.svg.area()\n        .x(function(d, i) { return spline_stack.x_scale(d.x); })\n        .y(function(d) { return d(spline_stack.range_attr); })\n        .y0(function(d) { return spline_stack.y_scale(d.y0); })\n        .y1(function(d) { return spline_stack.y_scale(d.y0 + d.y); })\n        .interpolate(spline_stack.interpolation);\n\n    spline_stack.fnStack = d3.layout.stack()\n        .values(function(d) { return d.values; });\n\n    // function that returns unique color based on series_title.\n    spline_stack.fnColor = d3.scale.category20();\n  }\n\n  serializeData(data){\n    console.log(\"unserialized data\", data);\n    var spline_stack = this,\n      serialized_data = {\n        series: [] };\n\n    data.series.forEach(function(series, i){\n      series.css_class = series.css_class || spline_stack.toClass ? spline_stack.toClass(series) : \"\";\n      series.title = series.title || spline_stack.toClass ? spline_stack.titleize(series) : \"\";\n      if (spline_stack.domain_attr !== 'x' && spline_stack.range_attr !== 'y'){\n        series.values = series.values.map((value)=>{\n          return {x: value[spline_stack.domain_attr], y: value[spline_stack.range_attr], series: series};\n        });\n      }\n      serialized_data.series.push(series);\n    });\n    serialized_data.series = spline_stack.fnStack(serialized_data.series);\n    // assume all series have same domain, use first series to establish extent.\n    serialized_data.domain_extent = d3.extent(serialized_data.series[0].values.map((value)=>{ return value.x; }));\n    // final series will have the highest y values.\n    serialized_data.range_max = d3.max(serialized_data.series[serialized_data.series.length - 1].values.map((value)=>{ return value.y0 + value.y; }))\n    console.log(\"serialized data\", serialized_data);\n    return serialized_data;\n  };\n\n  drawData(data){\n    var spline_stack = this;\n    data = spline_stack.serializeData(data);\n\n    // calibrate axes.\n    spline_stack.y_scale.domain([0, data.range_max]);\n    spline_stack.svg.select(\".d3-chart-range.d3-chart-axis\")\n      .call(spline_stack.y_axis);\n\n    spline_stack.x_scale.domain(data.domain_extent);\n    spline_stack.svg.select(\".d3-chart-domain.d3-chart-axis\").call(spline_stack.x_axis);\n\n    var stack = spline_stack.svg.selectAll(\".d3-chart-spline-stack\")\n        .data(data.series);\n    [stack.enter().append(\"path\"), stack.transition()].forEach((paths)=>{\n      spline_stack.applyData(paths);\n    });\n    stack.exit().remove();\n  }\n\n  applyData(paths){\n    var spline_stack = this;\n    paths\n      .attr(\"class\", function(series){\"d3-chart-spline-stack \" + series.css_class;})\n      .attr(\"d\", function(series){ return spline_stack.fnArea(series.values); })\n      .style(\"fill\", function(series){ return spline_stack.fnColor(series.title); });\n  }\n}\n\nexport default SplineStackChart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/line/spline_stack.js\n **/","import Chart from './../base';\n\n\n// inspired by https://gist.github.com/mbostock/4b66c0d9be9a0d56484e\nclass LineChart extends Chart {\n\n  get chart_options(){\n    return {\n      interpolation: 'basis'\n    };\n  }\n\n  defineAxes(){\n    var chart = this;\n\n    chart.y_scale = d3.scale.linear()\n      .range([chart.height, 0]);\n    chart.y_axis = d3.svg.axis()\n      .scale(chart.y_scale)\n      .orient(\"left\")\n      .outerTickSize(1);\n\n    if (chart.time_series){\n      chart.x_scale = d3.time.scale()\n        .range([0, chart.width]);\n    } else {\n      chart.x_scale = d3.scale.linear()\n        .range([0, chart.width]);\n    }\n\n    chart.x_axis = d3.svg.axis()\n      .scale(chart.x_scale)\n      .orient(\"bottom\")\n      .outerTickSize(0)\n    //chart.x_axis.tickFormat(d3.time.format('%b %d at %H'))\n    //chart.x_axis.ticks(d3.time.hour, 12);\n\n    // append axes\n    chart.svg.append(\"g\")\n        .attr(\"class\", \"d3-chart-range d3-chart-axis\");\n    chart.svg.append(\"g\")\n        .attr(\"class\", \"d3-chart-domain d3-chart-axis\")\n        .attr(\"transform\", \"translate(0, \" + (chart.height) + \")\");\n  }\n\n  afterAxes(){\n    var line_chart = this;\n    // function that draws the lines.\n    line_chart.line = d3.svg.line()\n      .interpolate(line_chart.chart_options.interpolation)\n      .x(function(d){ return line_chart.x_scale(d[line_chart.domain_attr]); })\n      .y(function(d){ return line_chart.y_scale(d[line_chart.range_attr]); });\n\n    // function that returns unique color based on series_title.\n    line_chart.color = d3.scale.category20();\n  }\n\n  serializeData(data){\n    var line_chart = this,\n      serialized_data = {\n        series: [],\n        range_min: Infinity,\n        range_max: -Infinity,\n        domain_min: Infinity,\n        domain_max: -Infinity,\n      };\n\n    data.forEach(function(data_set){\n      var series = Object.assign({\n          css_class: line_chart.toClass ? line_chart.toClass(data_set) : \"\",\n          title: line_chart.titleize ? line_chart.titleize(data_set) : \"\",\n          color: ''\n        }, data_set);\n\n      series.values.forEach((value)=>{\n        series_data.range_min = Math.min(series_data.range_min, value[line_chart.range_attr]);\n        series_data.range_max = Math.max(series_data.range_max, value[line_chart.range_attr]);\n        series_data.domain_min = Math.min(series_data.domain_min, value[line_chart.domain_attr]);\n        series_data.domain_max = Math.max(series_data.domain_max, value[line_chart.domain_attr]);\n      });\n      serialized_data.series.push(series);\n    });\n    return serialized_data;\n  };\n\n  drawData(data){\n    var line_chart = this;\n    data = line_chart.serialize_data;\n\n    // calibrate axes\n    bar_chart.y_scale.domain([Math.min(0, data.range_min), data.range_max]);\n    bar_chart.svg.select(\".d3-chart-range.d3-chart-axis\")\n      .call(bar_chart.y_axis);\n\n    bar_chart.x_scale.domain([data.domain_max, Math.min(data.domain_min)]);\n    bar_chart.svg.select(\".d3-chart-domain.d3-chart-axis\").call(bar_chart.x_axis);\n\n    // draw lines\n    var line = g.selectAll(\".d3-chart-series\")\n        .data(data.series);\n\n    [line.enter().append('g'), line.transition()].forEach((groups)=>{\n      line_chart.applyData(groups);\n    });\n    line.exit().remove();\n  }\n\n  applyData(groups){\n    var line_chart = this;\n    groups\n      .attr('class', function(series){ return \"d3-chart-line \" + series.css_class; })\n      .attr(\"title\", function(series){ return series.title; })\n      .append(\"path\")\n        .attr(\"d\", function(series){ return line_chart.line(series.values); })\n        .style(\"stroke\", function(series){ return line_chart.color(series.title); });\n  }\n\n}\n\nexport default LineChart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/line/line.js\n **/","const DEFAULTS = {\n  outer_width: 500,\n  outer_height: 300,\n  margin: {top: 0, left: 70, bottom: 50, right: 20},\n  domain_ticks: 10,\n  range_ticks: 8,\n  container: \"container\",\n  time_series: false,\n  range_label: undefined,\n  domain_attr: undefined,\n  range_attr: undefined,\n  titleize: function(series, datum){\n    var s = datum ? datum.name : series.title;\n    if (!s) return '';\n    var words = s.split(' '),\n      array = [];\n    for (var i=0; i<words.length; ++i) {\n      array.push(words[i].charAt(0).toUpperCase() + words[i].toLowerCase().slice(1));\n    }\n    return array.join(' ');\n  },\n  toClass: function(series){\n    return series ? series.title.toLowerCase().replace(/\\s+/g, '-') : \"\";\n  }\n};\n\n\nclass Chart {\n\n  constructor(options){\n    var chart = this;\n    Object.assign(chart, chart.chart_options, options);\n\n    chart.height = chart.outer_height - chart.margin.top - chart.margin.bottom;\n    chart.width = chart.outer_width - chart.margin.left - chart.margin.right;\n\n    chart.svg = d3.select(chart.container).append(\"svg\")\n        .attr(\"width\", chart.outer_width)\n        .attr(\"height\", chart.outer_height)\n      .append(\"g\")\n        .attr(\"transform\", \"translate(\" + chart.margin.left + \",\" + chart.margin.top + \")\");\n    chart.defineAxes();\n    if (chart.afterAxes) chart.afterAxes();\n  }\n\n}\n\nChart.DEFAULTS = DEFAULTS;\n\nexport default Chart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/base.js\n **/","import Chart from './../base';\n\n// inspired by https://gist.github.com/mbostock/4b66c0d9be9a0d56484e\nclass CalendarGridChart extends Chart{\n\n  get chart_options(){\n    var chart = this;\n    return Object.assign(Object.assign({}, Chart.DEFAULTS), {\n      margin: {top: 30, left: 150, bottom: 0, right: 0},\n      grid_padding: 0.05,\n      parse_date_format: '%Y-%m-%d',\n      display_date_format: '%B %Y',\n      date_attr: 'date',\n      min_range_zero: false,\n      color: '#FFF',\n      extent: []\n    })\n  }\n\n  defineAxes(){\n    var grid_chart = this;\n\n    // y scale is dependent on number of months.\n    grid_chart.y_axis = d3.svg.axis().orient(\"left\").outerTickSize(0);\n    grid_chart.y_scale = d3.scale.ordinal()\n    grid_chart.svg.append(\"g\")\n        .attr(\"class\", \"d3-chart-range d3-chart-axis\");\n\n    grid_chart.x_scale = d3.scale.ordinal()\n      .domain(d3.range(31).map((n)=>{ return n+1; }))\n      .rangeRoundBands([0, grid_chart.width], grid_chart.grid_padding, 0);\n\n    grid_chart.x_axis = d3.svg.axis()\n      .scale(grid_chart.x_scale)\n      .orient(\"top\")\n      .outerTickSize(0);\n\n    // append x axis\n    grid_chart.svg.append(\"g\").attr(\"class\", \"d3-chart-domain d3-chart-axis\");\n  }\n\n  afterAxes(){\n    var grid_chart = this;\n    grid_chart.grid_unit_size = grid_chart.width / 31 - grid_chart.grid_padding * grid_chart.width / 30;\n\n    if (grid_chart.display_date_format) grid_chart.displayDate = d3.time.format(grid_chart.display_date_format);\n\n    if (!grid_chart.toDate && grid_chart.parse_date_format){\n      grid_chart.parseDate = d3.time.format(grid_chart.parse_date_format);\n      grid_chart.toDate = (datum)=>{\n        grid_chart.parseDate(datum[grid_chart.date_attr]);\n      }\n    } else if (!grid_chart.toDate){\n      grid_chart.toDate = (datum)=>{ return datum[grid_chart.date_attr] };\n    }\n\n\n    grid_chart.monthFormat = d3.time.format('%B %Y');\n    grid_chart.toMonthString = (datum)=>{\n      return grid_chart.monthFormat(grid_chart.toDate(datum));\n    }\n  }\n\n  serializeData(data){\n    var grid_chart = this;\n    data.css_class = data.css_class || grid_chart.toClass ? grid_chart.toClass(data) : \"\";\n\n    grid_chart.rangeValue = grid_chart.range_attr ? function(d){ return d[grid_chart.range_attr]; } : grid_chart.rangeValue;\n\n    data.months = [];\n    if (data.min_range !== undefined && data.max_range !== undefined){\n      data.range = {min: data.min_range, max: data.max_range};\n      data.values.forEach((value)=>{\n        var date = grid_chart.toDate(value),\n          date_s = grid_chart.monthFormat(date);\n        if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n      });\n    } else {\n      var min_range = Infinity,\n        max_range = -Infinity;\n      data.values.forEach((value)=>{\n        var date = grid_chart.toDate(value),\n          date_s = grid_chart.monthFormat(date),\n          range_value = grid_chart.rangeValue(value);\n        min_range = Math.min(min_range, range_value);\n        max_range = Math.max(max_range, range_value);\n        if (data.months.indexOf(date_s) < 0) data.months.push(date_s);\n      });\n      if (grid_chart.min_range_zero) min_range = Math.min(min_range, 0);\n      data.range = { min: min_range, max: max_range };\n    }\n    data.range.diff = data.range.max - data.range.min;\n\n    data.months = data.months.sort((date_s1, date_s2)=>{\n      var date1 = grid_chart.monthFormat.parse(date_s1),\n        date2 = grid_chart.monthFormat.parse(date_s2);\n      return date1.getTime() - date2.getTime();\n    });\n    return data;\n  };\n\n  drawData(data){\n    var grid_chart = this;\n    data = grid_chart.serializeData(data);\n\n    // calibrate axes\n    var y_axis_height = grid_chart.grid_unit_size * (1 + grid_chart.grid_padding) * data.months.length;\n    grid_chart.y_scale.rangeRoundBands([0, y_axis_height], grid_chart.grid_padding, 0);\n    grid_chart.y_scale.domain(data.months);\n    grid_chart.y_axis.scale(grid_chart.y_scale);\n\n    grid_chart.svg.select(\".d3-chart-range\")\n      .call(grid_chart.y_axis);\n\n    grid_chart.svg.select(\".d3-chart-domain\").call(grid_chart.x_axis);\n\n   var grid_units = grid_chart.svg.selectAll(\".d3-chart-grid-unit\")\n        .data(data.values);\n    grid_chart.applyData(data, grid_units.enter().append(\"rect\"));\n    grid_chart.applyData(data, grid_units.transition());\n    grid_units.exit().remove();\n  }\n\n  // helper method for drawData.\n  applyData(data, elements){\n    var grid_chart = this,\n        series_class = \"d3-chart-grid-unit \" + data.css_class;\n      elements\n          .attr(\"class\", function(d){ return series_class; })\n          .attr(\"y\", function(d) {\n            var bottom = grid_chart.y_scale(grid_chart.toMonthString(d)),\n              middle = grid_chart.y_scale.rangeBand() / 2 - grid_chart.grid_unit_size / 2;\n            return bottom + middle;\n          })\n          .attr(\"height\", grid_chart.grid_unit_size)\n          .attr(\"x\", function(d) {\n            return grid_chart.x_scale(grid_chart.toDate(d).getDate());\n          })\n          .attr(\"width\", function(d) { return grid_chart.grid_unit_size; })\n          .attr('fill', grid_chart.color)\n          .attr(\"opacity\", function(d) {\n\n             return grid_chart.applyOpacity(grid_chart.rangeValue(d), data.range);\n           });\n  }\n\n  applyOpacity(value, range){\n    return Math.max(0, Math.min(1, 1 - (range.max - (value - range.min)) / range.diff));\n  };\n\n}\n\nexport default CalendarGridChart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/grid/calendar_grid.js\n **/"],"sourceRoot":""}